import{r as i,j as a,P as h,i as d,v as y,w as k,x as m,d as N,y as Q,t as W,z as H,B as X}from"./main-Ck77QhJN.js";import{c as j,d as b,R as Y,T as K,W as U,C as J,e as Z,b as ee,D as te,a as _,P as ae,O as re}from"./index-BXr_7qqs.js";var x="Progress",A=100,[oe,ke]=j(x),[se,ne]=oe(x),C=i.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:o,getValueLabel:g=le,...n}=e;(o||o===0)&&!D(o)&&console.error(ie(`${o}`,"Progress"));const c=D(o)?o:A;s!==null&&!P(s,c)&&console.error(ce(`${s}`,"Progress"));const l=P(s,c)?s:null,p=v(l)?g(l,c):void 0;return a.jsx(se,{scope:r,value:l,max:c,children:a.jsx(h.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":v(l)?l:void 0,"aria-valuetext":p,role:"progressbar","data-state":E(l,c),"data-value":l??void 0,"data-max":c,...n,ref:t})})});C.displayName=x;var R="ProgressIndicator",w=i.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,o=ne(R,r);return a.jsx(h.div,{"data-state":E(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...s,ref:t})});w.displayName=R;function le(e,t){return`${Math.round(e/t*100)}%`}function E(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function v(e){return typeof e=="number"}function D(e){return v(e)&&!isNaN(e)&&e>0}function P(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}function ie(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${A}\`.`}function ce(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${A} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var de=C,ue=w;function Qe({className:e,value:t,...r}){return a.jsx(de,{"data-slot":"progress",className:d("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:a.jsx(ue,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}var $="AlertDialog",[ge,We]=j($,[b]),u=b(),S=e=>{const{__scopeAlertDialog:t,...r}=e,s=u(t);return a.jsx(Y,{...s,...r,modal:!0})};S.displayName=$;var pe="AlertDialogTrigger",T=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=u(r);return a.jsx(K,{...o,...s,ref:t})});T.displayName=pe;var fe="AlertDialogPortal",O=e=>{const{__scopeAlertDialog:t,...r}=e,s=u(t);return a.jsx(ae,{...s,...r})};O.displayName=fe;var ve="AlertDialogOverlay",M=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=u(r);return a.jsx(re,{...o,...s,ref:t})});M.displayName=ve;var f="AlertDialogContent",[me,xe]=ge(f),Ae=k("AlertDialogContent"),I=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...o}=e,g=u(r),n=i.useRef(null),c=y(t,n),l=i.useRef(null);return a.jsx(U,{contentName:f,titleName:L,docsSlug:"alert-dialog",children:a.jsx(me,{scope:r,cancelRef:l,children:a.jsxs(J,{role:"alertdialog",...g,...o,ref:c,onOpenAutoFocus:Z(o.onOpenAutoFocus,p=>{p.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[a.jsx(Ae,{children:s}),a.jsx(Pe,{contentRef:n})]})})})});I.displayName=f;var L="AlertDialogTitle",V=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=u(r);return a.jsx(ee,{...o,...s,ref:t})});V.displayName=L;var z="AlertDialogDescription",F=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=u(r);return a.jsx(te,{...o,...s,ref:t})});F.displayName=z;var De="AlertDialogAction",G=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=u(r);return a.jsx(_,{...o,...s,ref:t})});G.displayName=De;var q="AlertDialogCancel",B=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:o}=xe(q,r),g=u(r),n=y(t,o);return a.jsx(_,{...g,...s,ref:n})});B.displayName=q;var Pe=({contentRef:e})=>{const t=`\`${f}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${f}\` by passing a \`${z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${f}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},he=S,ye=T,Ne=O,je=M,be=I,_e=G,Ce=B,Re=V,we=F;function Ee({...e}){return a.jsx(he,{"data-slot":"alert-dialog",...e})}function $e({...e}){return a.jsx(ye,{"data-slot":"alert-dialog-trigger",...e})}function Se({...e}){return a.jsx(Ne,{"data-slot":"alert-dialog-portal",...e})}function Te({className:e,...t}){return a.jsx(je,{"data-slot":"alert-dialog-overlay",className:d("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Oe({className:e,...t}){return a.jsxs(Se,{children:[a.jsx(Te,{}),a.jsx(be,{"data-slot":"alert-dialog-content",className:d("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Me({className:e,...t}){return a.jsx("div",{"data-slot":"alert-dialog-header",className:d("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ie({className:e,...t}){return a.jsx("div",{"data-slot":"alert-dialog-footer",className:d("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Le({className:e,...t}){return a.jsx(Re,{"data-slot":"alert-dialog-title",className:d("text-lg font-semibold",e),...t})}function Ve({className:e,...t}){return a.jsx(we,{"data-slot":"alert-dialog-description",className:d("text-muted-foreground text-sm",e),...t})}function ze({className:e,...t}){return a.jsx(_e,{className:d(m(),e),...t})}function Fe({className:e,...t}){return a.jsx(Ce,{className:d(m({variant:"outline"}),e),...t})}function Ge(){const e=N(),t=Q();return{...t,mutateAsync:async r=>(await t.mutateAsync({id:r}),e.removeQueries({queryKey:["posts",{projectId:r}]}),W.success("Project deleted"),r)}}function He({projectId:e,projectTitle:t,onDeleted:r,size:s="sm",variant:o="destructive",children:g="Delete"}){const n=Ge(),c=N(),l=H();return a.jsxs(Ee,{children:[a.jsx($e,{asChild:!0,children:a.jsx(X,{size:s,variant:o,disabled:n.isPending,children:n.isPending?"Deleting…":g})}),a.jsxs(Oe,{children:[a.jsxs(Me,{children:[a.jsxs(Le,{children:["Delete ",t?`“${t}”`:"this project","?"]}),a.jsx(Ve,{children:"This will permanently remove the project and its generated posts. This action cannot be undone."})]}),a.jsxs(Ie,{children:[a.jsx(Fe,{disabled:n.isPending,children:"Cancel"}),a.jsx(ze,{className:m({variant:"destructive"}),disabled:n.isPending,onClick:async()=>{await n.mutateAsync(e),c.invalidateQueries();try{await l.invalidate()}catch{}r?.()},children:"Delete"})]})]})]})}export{He as P,Qe as a};
