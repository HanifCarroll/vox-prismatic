import{a as j,r as i,j as e,B as l,L as x,p as u,t as n}from"./main-wPaknWIa.js";import{C as f,a as g,b as C,c as v}from"./card-BAQmJubA.js";import{L as o}from"./label-Co4OSMiy.js";import{I as N,T as b}from"./textarea-CJFim08h.js";function L(){const d=j({from:"/projects/new"}),[s,p]=i.useState(""),[r,m]=i.useState(""),[a,c]=i.useState(!1);return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"New Project"}),e.jsxs(f,{children:[e.jsx(g,{children:e.jsx(C,{children:"Paste Transcript"})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"form-field",children:[e.jsx(o,{htmlFor:"title",children:"Title (optional)"}),e.jsx(N,{id:"title",placeholder:"e.g. Coaching call with Acme Corp",value:s,onChange:t=>p(t.target.value)}),e.jsx("div",{className:"text-xs text-zinc-500",children:"Leave blank to auto-generate a title using AI."})]}),e.jsxs("div",{className:"form-field",children:[e.jsx(o,{htmlFor:"transcript",children:"Transcript"}),e.jsx(b,{id:"transcript",placeholder:"Paste the transcript text here...",className:"min-h-[240px]",value:r,onChange:t=>m(t.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(l,{variant:"outline",asChild:!0,disabled:a,children:e.jsx(x,{to:"/projects",children:"Cancel"})}),e.jsx(l,{disabled:!r.trim()||a,onClick:async()=>{try{c(!0);const t={transcript:r};s.trim()&&(t.title=s.trim());const{project:h}=await u(t);n.success("Project created. Processing will start shortly."),d({to:`/projects/${h.id}`})}catch(t){t&&typeof t=="object"&&"error"in t&&typeof t.error=="string"?n.error(t.error):n.error("Failed to create project")}finally{c(!1)}},children:a?"Creatingâ€¦":"Continue"})]})]})})]})]})}export{L as component};
