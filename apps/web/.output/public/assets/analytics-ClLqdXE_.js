import{b as v,j as e}from"./main-wPaknWIa.js";import{C as m,a as o,b as x,c as h}from"./card-BAQmJubA.js";import{T as g,a as b,b as c,c as i,d as N,e as n}from"./table-ByumDcZc.js";import{B as T}from"./badge-CRvqHR08.js";import{f as w}from"./format-B7sVtYBq.js";import"./en-US-DIdCsyf3.js";const a=new Intl.NumberFormat(void 0,{maximumFractionDigits:0}),z=new Intl.NumberFormat(void 0,{minimumFractionDigits:1,maximumFractionDigits:1});function d({title:u,value:t,description:l}){return e.jsxs(m,{children:[e.jsx(o,{className:"pb-2",children:e.jsx(x,{className:"text-sm font-medium text-zinc-500",children:u})}),e.jsxs(h,{className:"pt-0",children:[e.jsx("div",{className:"text-2xl font-semibold text-zinc-900",children:t}),l?e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:l}):null]})]})}function A(){const u=v.useLoaderData(),{summary:t,daily:l,topHashtags:p}=u,r=l.slice(-Math.min(14,l.length)),f=t.averageTimeToPublishHours===null?"â€”":`${z.format(t.averageTimeToPublishHours)} hrs`,y=[{key:"pending",label:"Pending review",tone:"muted"},{key:"approved",label:"Approved",tone:"default"},{key:"rejected",label:"Rejected",tone:"muted"},{key:"published",label:"Published",tone:"default"}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-zinc-900",children:"Analytics"}),e.jsxs("p",{className:"text-sm text-zinc-600",children:["Track how your LinkedIn posts are performing over the last ",t.rangeDays," days."]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[e.jsx(d,{title:"Total posts",value:a.format(t.totalPosts)}),e.jsx(d,{title:`Published (last ${t.rangeDays} days)`,value:a.format(t.publishedInPeriod)}),e.jsx(d,{title:"Scheduled",value:a.format(t.scheduledCount)}),e.jsx(d,{title:"Avg. time to publish",value:f})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[e.jsxs(m,{children:[e.jsx(o,{children:e.jsx(x,{className:"text-base font-medium",children:"Status breakdown"})}),e.jsx(h,{className:"space-y-3",children:y.map(s=>{const j=t.statusCounts[s.key];return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(T,{variant:s.tone==="muted"?"outline":"default",className:"uppercase tracking-wide",children:s.label})}),e.jsx("span",{className:"font-medium text-zinc-900",children:a.format(j)})]},s.key)})})]}),e.jsxs(m,{children:[e.jsx(o,{children:e.jsx(x,{className:"text-base font-medium",children:"Top hashtags"})}),e.jsx(h,{children:p.length===0?e.jsx("p",{className:"text-sm text-zinc-600",children:"No hashtags yet. Add hashtags to your posts to see trends."}):e.jsxs(g,{children:[e.jsx(b,{children:e.jsxs(c,{children:[e.jsx(i,{className:"w-16",children:"#"}),e.jsx(i,{children:"Hashtag"}),e.jsx(i,{className:"text-right",children:"Posts"})]})}),e.jsx(N,{children:p.map((s,j)=>e.jsxs(c,{children:[e.jsx(n,{className:"font-medium",children:j+1}),e.jsxs(n,{className:"text-zinc-800",children:["#",s.tag.replace(/^#+/,"")]}),e.jsx(n,{className:"text-right",children:a.format(s.count)})]},s.tag))})]})})]})]}),e.jsxs(m,{children:[e.jsx(o,{children:e.jsx(x,{className:"text-base font-medium",children:"Publishing cadence"})}),e.jsxs(h,{children:[r.length===0?e.jsx("p",{className:"text-sm text-zinc-600",children:"No published posts in this period."}):e.jsxs(g,{children:[e.jsx(b,{children:e.jsxs(c,{children:[e.jsx(i,{children:"Date"}),e.jsx(i,{className:"text-right",children:"Published"})]})}),e.jsx(N,{children:r.map(s=>e.jsxs(c,{children:[e.jsx(n,{className:"text-zinc-800",children:w(new Date(s.date),"MMM d, yyyy")}),e.jsx(n,{className:"text-right font-medium",children:a.format(s.published)})]},s.date))})]}),r.length>0?e.jsxs("p",{className:"text-xs text-zinc-500 mt-3",children:["Showing the most recent ",r.length," days within this window."]}):null]})]})]})}export{A as component};
