import{n as fn,e as xo,X as So,Y as Co,d as Te,Z as ko,t as K,_ as Do,$ as No,a0 as jo,a1 as To,a as hn,a2 as Mo,a3 as Eo,a4 as Po,a5 as Oo,r as h,o as Ro,s as me,a6 as _o,a7 as Ao,j as i,P as le,v as Ae,i as H,Q as p,m as Io,x as kn,B as re,a8 as Wo,a9 as Fo,aa as zo,M as Bo,ab as $o,J as Ho,ac as Lo,ad as Yo,ae as Uo,af as Go}from"./main-CbN_EMft.js";import{u as qo}from"./useLinkedInStatus-m3WGpr60.js";import{c as ut,f as Hn,e as ae,u as Je,n as ze,g as et,b as Ln,D as Vo,R as Yn,C as Un,P as Gn,O as qn,m as Ko,a as Zo}from"./index-1gxR_wNh.js";import{i as Xo,u as Ot,j as Qo,k as Jo,l as es,f as Zt,m as ts,n as ns,o as rs,p as os,S as ss,a as as,b as is,c as ls,d as Ze}from"./formatDistanceToNow-BUPGt2AE.js";import{C as Ue,a as Ge,b as at,d as Dt,c as ct,e as cs}from"./card-CFC9Pc_a.js";import{I as us,T as Rt}from"./textarea-D0M3zx96.js";import{a as Dn,P as ds}from"./ProjectDeleteButton-gdAJh-Pf.js";import{L as Be}from"./label-DNrsTEZe.js";import{D as fs,a as hs,b as ms,c as ps,d as gs,f as vs,e as bs}from"./dialog-D32xURXd.js";import{t as de,c as ye,n as _t,g as ws,e as Vn}from"./en-US-DIdCsyf3.js";import{s as Tt,d as ys,f as Xe,g as xs,a as Ss,i as Cs,b as ks,c as Ds,e as Ns}from"./format-B7sVtYBq.js";import{B as Nn}from"./badge-BgFV5s-g.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ts=fn("ChevronLeft",js);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Es=fn("ChevronRight",Ms);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Os=fn("LoaderCircle",Ps);function Kn(e,t,n){const r=de(e,n?.in);return isNaN(t)?ye(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Zn(e,t,n){const r=de(e,n?.in);if(isNaN(t))return ye(e,NaN);if(!t)return r;const o=r.getDate(),s=ye(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const l=s.getDate();return o>=l?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}function Rs(e,t,n){return Kn(e,t*7,n)}function _s(e,t,n){return Zn(e,t*12,n)}function As(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=ye.bind(null,o));const s=de(o,r);(!n||n<s||isNaN(+s))&&(n=s)}),ye(r,n||NaN)}function Is(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=ye.bind(null,o));const s=de(o,r);(!n||n>s||isNaN(+s))&&(n=s)}),ye(r,n||NaN)}function Ws(e,t,n){const[r,o]=_t(n?.in,e,t);return+Tt(r)==+Tt(o)}function Fs(e,t){const[n,r]=_t(e,t.start,t.end);return{start:n,end:r}}function zs(e,t){const{start:n,end:r}=Fs(t?.in,e);let o=+n>+r;const s=o?+n:+r,l=o?r:n;l.setHours(0,0,0,0),l.setDate(1);let a=1;const c=[];for(;+l<=s;)c.push(ye(n,l)),l.setMonth(l.getMonth()+a);return o?c.reverse():c}function Bs(e,t){const n=de(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function $s(e,t){const n=de(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Xn(e,t){const n=ws(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=de(e,t?.in),s=o.getDay(),l=(s<r?-7:0)+6-(s-r);return o.setDate(o.getDate()+l),o.setHours(23,59,59,999),o}function Hs(e,t){return Xn(e,{...t,weekStartsOn:1})}function Ls(e,t){const n=de(e,t?.in),r=n.getFullYear(),o=n.getMonth(),s=ye(n,0);return s.setFullYear(r,o+1,0),s.setHours(0,0,0,0),s.getDate()}function Ys(e,t){return de(e,t?.in).getMonth()}function Us(e,t){return de(e,t?.in).getFullYear()}function Gs(e,t){return+de(e)>+de(t)}function qs(e,t){return+de(e)<+de(t)}function Vs(e,t,n){const[r,o]=_t(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function Ks(e,t,n){const[r,o]=_t(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function Zs(e,t,n){const r=de(e,n?.in),o=r.getFullYear(),s=r.getDate(),l=ye(e,0);l.setFullYear(o,t,15),l.setHours(0,0,0,0);const a=Ls(l);return r.setMonth(t,Math.min(s,a)),r}function Xs(e,t,n){const r=de(e,n?.in);return isNaN(+r)?ye(e,NaN):(r.setFullYear(t),r)}function jn(e){return Tt(Date.now(),e)}function Qs(e,t,n){return xo({queryKey:["posts",{projectId:e,page:1,pageSize:100}],queryFn:({signal:r})=>So(e,{page:1,pageSize:100},r),enabled:!!e&&t,initialData:n})}function Js(e,t){return Co(e,{query:{enabled:!!e,initialData:t}})}function ea(e){const t=Te(),n=ko();return{...n,mutate:({postId:r,data:o})=>{n.mutate({id:r,data:o},{onSuccess:()=>{t.invalidateQueries({queryKey:["posts",{projectId:e}]}),K.success("Post updated")}})}}}function ta(e){const t=Te(),n=Do();return{...n,mutate:({ids:r,status:o})=>{n.mutate({data:{ids:r,status:o}},{onSuccess:()=>{t.invalidateQueries({queryKey:["posts",{projectId:e}]}),K.success("Bulk update applied")}})}}}function na(e){const t=Te(),n=No();return{...n,mutate:r=>{n.mutate({id:r},{onSuccess:()=>{e&&t.invalidateQueries({queryKey:["posts",{projectId:e}]}),K.success("Post published on LinkedIn")},onError:o=>{K.error(o.error||"Failed to publish post")}})}}}function ra(e){const t=Te();return Po({mutation:{onMutate:async({data:r})=>{const{ids:o}=r;await t.cancelQueries({queryKey:["posts",{projectId:e,page:1,pageSize:100}]});const s=t.getQueryData(["posts",{projectId:e,page:1,pageSize:100}]);return t.setQueryData(["posts",{projectId:e,page:1,pageSize:100}],l=>l&&{...l,items:(l.items||[]).map(a=>o.includes(a.id)?{...a,status:"pending"}:a)}),{prev:s}},onError:(r,o,s)=>{s?.prev&&t.setQueryData(["posts",{projectId:e,page:1,pageSize:100}],s.prev),K.error("Failed to regenerate posts")},onSuccess:r=>{t.setQueryData(["posts",{projectId:e,page:1,pageSize:100}],o=>{if(!o||!r?.items)return o;const s=o.items||[],l=new Map(r.items.map(c=>[c.id,c])),a=s.map(c=>{const f=l.get(c.id);return f?{...c,...f}:c});return{...o,items:a}}),t.invalidateQueries({queryKey:["posts",{projectId:e}]}),K.success("Regeneration queued")}}})}function oa(e){const t=Te(),n=jo();return{...n,mutate:({postId:r,scheduledAt:o})=>{const s=o instanceof Date?o.toISOString():new Date(o).toISOString();n.mutate({id:r,data:{scheduledAt:s}},{onSuccess:()=>{t.invalidateQueries({queryKey:["posts",{projectId:e}]}),K.success("Post scheduled")},onError:l=>{K.error(l.error||"Failed to schedule post")}})}}}function sa(e){const t=Te(),n=To();return{...n,mutate:({postId:r})=>{n.mutate({id:r},{onSuccess:()=>{t.invalidateQueries({queryKey:["posts",{projectId:e}]}),K.success("Post unscheduled")},onError:o=>{K.error(o.error||"Failed to unschedule post")}})}}}function aa(e){const t=Te(),n=hn(),r=Mo();return{...r,mutate:o=>{r.mutate({id:o},{onSuccess:()=>{t.invalidateQueries({queryKey:["posts",{projectId:e}]}),K.success("Post auto-scheduled")},onError:s=>{const l=s.error||"Failed to auto-schedule post",a=()=>n({to:"/settings",search:{tab:"scheduling"}}),c=()=>n({to:"/settings",search:{tab:"integrations"}});if(/No preferred timeslots configured/i.test(l)){K.error(l,{action:{label:"Open Scheduling",onClick:a}});return}if(/No available timeslot/i.test(l)){K.error(l,{action:{label:"Open Scheduling",onClick:a}});return}if(/LinkedIn is not connected/i.test(l)){K.error(l,{action:{label:"Connect LinkedIn",onClick:c}});return}if(/must be approved/i.test(l)){K.error("Approve the post before scheduling");return}if(/already scheduled/i.test(l)){K.error("Post is already scheduled. Unschedule it first.");return}K.error(l)}})}}}function ia(e){const t=Te(),n=hn(),r=Eo();return{...r,mutate:(o={})=>{r.mutate({projectId:e,data:{...typeof o.limit=="number"?{limit:o.limit}:{}}},{onSuccess:s=>{t.invalidateQueries({queryKey:["posts",{projectId:e}]});const l=Number(s.meta?.scheduledCount??0),a=Number(s.meta?.requested??o.limit??l);K.success(`Auto-scheduled ${l}/${a} posts`)},onError:s=>{const l=s.error||"Failed to auto-schedule project posts",a=()=>n({to:"/settings",search:{tab:"scheduling"}}),c=()=>n({to:"/settings",search:{tab:"integrations"}});if(/No preferred timeslots configured/i.test(l)){K.error(l,{action:{label:"Open Scheduling",onClick:a}});return}if(/No available timeslot/i.test(l)){K.error(l,{action:{label:"Open Scheduling",onClick:a}});return}if(/LinkedIn is not connected/i.test(l)){K.error(l,{action:{label:"Connect LinkedIn",onClick:c}});return}K.error(l)}})}}}function la(e){const t=Te(),n=Oo();return{...n,mutate:r=>{n.mutate({id:e,data:{transcript:r}},{onSuccess:()=>{t.invalidateQueries({queryKey:["transcript",e]}),K.success("Transcript updated")}})}}}let Xt=null;const ca=()=>{throw typeof window>"u"?new Error("Realtime connections are only available in the browser"):new Error("Missing VITE_REVERB_APP_KEY environment variable")},Qn=()=>(Xt||(Xt=ca()),Xt),ua=Ro({id:me(),projectId:me(),insightId:me(),content:me(),hashtags:_o([me(),Ao(me())]),platform:me(),status:me(),publishedAt:me(),scheduledAt:me(),scheduleStatus:me(),scheduleError:me(),scheduleAttemptedAt:me(),createdAt:me(),updatedAt:me()}),da=e=>["posts",{projectId:e,page:1,pageSize:100}];function fa(e,t,n={}){const{enabled:r=!0}=n,o=Te();h.useEffect(()=>{if(!r||!e||!t)return;let s=!0;try{const l=Qn(),a=l.private(`user.${t}`),c=f=>{if(s)try{const u=ua.parse(f.post);if(!u||u.projectId!==e)return;o.setQueryData(da(e),d=>{if(!d||!(d.items??[]).some(w=>w.id===u.id))return d;const v=d.items.map(w=>w.id!==u.id?w:{...w,...u});return{...d,items:v}})}catch(u){console.error("Failed to handle post.regenerated event",u)}};return a.listen(".post.regenerated",c),()=>{s=!1,a.stopListening(".post.regenerated"),l.leave(`user.${t}`)}}catch(l){console.error("Realtime posts subscription failed",l);return}},[o,r,e,t])}function ha(e,t={}){const{enabled:n=!0}=t,r=h.useRef({});h.useEffect(()=>{r.current=t},[t]),h.useEffect(()=>{if(!(!n||!e))try{const o=Qn(),s=o.private(`project.${e}`),l=f=>{f.projectId&&f.projectId!==e||r.current.onProgress?.({projectId:e,progress:typeof f.progress=="number"?f.progress:0,step:typeof f.step=="string"?f.step:""})},a=f=>{f.projectId&&f.projectId!==e||r.current.onCompleted?.({projectId:e})},c=f=>{f.projectId&&f.projectId!==e||r.current.onFailed?.({projectId:e,message:typeof f.message=="string"?f.message:void 0})};return s.listen(".project.progress",l),s.listen(".project.completed",a),s.listen(".project.failed",c),()=>{s.stopListening(".project.progress"),s.stopListening(".project.completed"),s.stopListening(".project.failed"),o.leave(`project.${e}`)}}catch(o){console.error("Failed to subscribe to project channel",o);return}},[n,e])}var Qt="rovingFocusGroup.onEntryFocus",ma={bubbles:!1,cancelable:!0},dt="RovingFocusGroup",[an,Jn,pa]=Xo(dt),[ga,At]=ut(dt,[pa]),[va,ba]=ga(dt),er=h.forwardRef((e,t)=>i.jsx(an.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(an.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(wa,{...e,ref:t})})}));er.displayName=dt;var wa=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:f,preventScrollOnEntryFocus:u=!1,...d}=e,m=h.useRef(null),v=Ae(t,m),w=Ot(s),[S,y]=Je({prop:l,defaultProp:a??null,onChange:c,caller:dt}),[b,j]=h.useState(!1),D=ze(f),k=Jn(n),C=h.useRef(!1),[E,x]=h.useState(0);return h.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(Qt,D),()=>N.removeEventListener(Qt,D)},[D]),i.jsx(va,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:S,onItemFocus:h.useCallback(N=>y(N),[y]),onItemShiftTab:h.useCallback(()=>j(!0),[]),onFocusableItemAdd:h.useCallback(()=>x(N=>N+1),[]),onFocusableItemRemove:h.useCallback(()=>x(N=>N-1),[]),children:i.jsx(le.div,{tabIndex:b||E===0?-1:0,"data-orientation":r,...d,ref:v,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{C.current=!0}),onFocus:ae(e.onFocus,N=>{const T=!C.current;if(N.target===N.currentTarget&&T&&!b){const O=new CustomEvent(Qt,ma);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const g=k().filter(B=>B.focusable),F=g.find(B=>B.active),M=g.find(B=>B.id===S),q=[F,M,...g].filter(Boolean).map(B=>B.ref.current);rr(q,u)}}C.current=!1}),onBlur:ae(e.onBlur,()=>j(!1))})})}),tr="RovingFocusGroupItem",nr=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:l,...a}=e,c=Hn(),f=s||c,u=ba(tr,n),d=u.currentTabStopId===f,m=Jn(n),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:S}=u;return h.useEffect(()=>{if(r)return v(),()=>w()},[r,v,w]),i.jsx(an.ItemSlot,{scope:n,id:f,focusable:r,active:o,children:i.jsx(le.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:ae(e.onMouseDown,y=>{r?u.onItemFocus(f):y.preventDefault()}),onFocus:ae(e.onFocus,()=>u.onItemFocus(f)),onKeyDown:ae(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=Sa(y,u.orientation,u.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let D=m().filter(k=>k.focusable).map(k=>k.ref.current);if(b==="last")D.reverse();else if(b==="prev"||b==="next"){b==="prev"&&D.reverse();const k=D.indexOf(y.currentTarget);D=u.loop?Ca(D,k+1):D.slice(k+1)}setTimeout(()=>rr(D))}}),children:typeof l=="function"?l({isCurrentTabStop:d,hasTabStop:S!=null}):l})})});nr.displayName=tr;var ya={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xa(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Sa(e,t,n){const r=xa(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ya[r]}function rr(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ca(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var or=er,sr=nr,It="Tabs",[ka,Qc]=ut(It,[At]),ar=At(),[Da,mn]=ka(It),ir=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:s,orientation:l="horizontal",dir:a,activationMode:c="automatic",...f}=e,u=Ot(a),[d,m]=Je({prop:r,onChange:o,defaultProp:s??"",caller:It});return i.jsx(Da,{scope:n,baseId:Hn(),value:d,onValueChange:m,orientation:l,dir:u,activationMode:c,children:i.jsx(le.div,{dir:u,"data-orientation":l,...f,ref:t})})});ir.displayName=It;var lr="TabsList",cr=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,s=mn(lr,n),l=ar(n);return i.jsx(or,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:r,children:i.jsx(le.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});cr.displayName=lr;var ur="TabsTrigger",dr=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...s}=e,l=mn(ur,n),a=ar(n),c=mr(l.baseId,r),f=pr(l.baseId,r),u=r===l.value;return i.jsx(sr,{asChild:!0,...a,focusable:!o,active:u,children:i.jsx(le.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":f,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...s,ref:t,onMouseDown:ae(e.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?l.onValueChange(r):d.preventDefault()}),onKeyDown:ae(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&l.onValueChange(r)}),onFocus:ae(e.onFocus,()=>{const d=l.activationMode!=="manual";!u&&!o&&d&&l.onValueChange(r)})})})});dr.displayName=ur;var fr="TabsContent",hr=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:s,...l}=e,a=mn(fr,n),c=mr(a.baseId,r),f=pr(a.baseId,r),u=r===a.value,d=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(et,{present:o||u,children:({present:m})=>i.jsx(le.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:m&&s})})});hr.displayName=fr;function mr(e,t){return`${e}-trigger-${t}`}function pr(e,t){return`${e}-content-${t}`}var Na=ir,ja=cr,Ta=dr,Ma=hr;function Ea({className:e,...t}){return i.jsx(Na,{"data-slot":"tabs",className:H("flex flex-col gap-2",e),...t})}function Pa({className:e,...t}){return i.jsx(ja,{"data-slot":"tabs-list",className:H("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Tn({className:e,...t}){return i.jsx(Ta,{"data-slot":"tabs-trigger",className:H("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Mn({className:e,...t}){return i.jsx(Ma,{"data-slot":"tabs-content",className:H("flex-1 outline-none",e),...t})}function ln({className:e,...t}){return i.jsx("div",{"data-slot":"skeleton",className:H("bg-accent animate-pulse rounded-md",e),...t})}function Oa({posts:e,selectedPostId:t,selectedSet:n,onSelect:r,onToggleSelect:o}){return i.jsx("div",{className:"divide-y",children:e.map(s=>{const l=s.id===t;return i.jsxs("button",{type:"button",className:`flex w-full items-start gap-2 px-3 py-3 text-left hover:bg-zinc-50 ${l?"bg-zinc-50 border-l-2 border-zinc-300":""}`,onClick:()=>r(s.id),children:[i.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-zinc-300",checked:n.has(s.id),onChange:a=>{a.stopPropagation(),o(s.id)}}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs rounded px-1.5 py-0.5 border text-zinc-700 bg-zinc-50",children:s.status}),s.scheduleStatus?i.jsx("span",{className:"text-[10px] rounded px-1 py-0.5 border text-sky-700 bg-sky-50",children:s.scheduleStatus}):null]}),i.jsx("div",{className:"mt-1 line-clamp-2 text-sm text-zinc-800",children:(s.content||"").slice(0,160)||"—"})]})]},s.id)})})}var gr="Toggle",vr=h.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:o,...s}=e,[l,a]=Je({prop:n,onChange:o,defaultProp:r??!1,caller:gr});return i.jsx(le.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:ae(e.onClick,()=>{e.disabled||a(!l)})})});vr.displayName=gr;var He="ToggleGroup",[br,Jc]=ut(He,[At]),wr=At(),pn=p.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return i.jsx(Ra,{...o,ref:t})}if(n==="multiple"){const o=r;return i.jsx(_a,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${He}\``)});pn.displayName=He;var[yr,xr]=br(He),Ra=p.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[l,a]=Je({prop:n,defaultProp:r??"",onChange:o,caller:He});return i.jsx(yr,{scope:e.__scopeToggleGroup,type:"single",value:p.useMemo(()=>l?[l]:[],[l]),onItemActivate:a,onItemDeactivate:p.useCallback(()=>a(""),[a]),children:i.jsx(Sr,{...s,ref:t})})}),_a=p.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...s}=e,[l,a]=Je({prop:n,defaultProp:r??[],onChange:o,caller:He}),c=p.useCallback(u=>a((d=[])=>[...d,u]),[a]),f=p.useCallback(u=>a((d=[])=>d.filter(m=>m!==u)),[a]);return i.jsx(yr,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:c,onItemDeactivate:f,children:i.jsx(Sr,{...s,ref:t})})});pn.displayName=He;var[Aa,Ia]=br(He),Sr=p.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:s,dir:l,loop:a=!0,...c}=e,f=wr(n),u=Ot(l),d={role:"group",dir:u,...c};return i.jsx(Aa,{scope:n,rovingFocus:o,disabled:r,children:o?i.jsx(or,{asChild:!0,...f,orientation:s,dir:u,loop:a,children:i.jsx(le.div,{...d,ref:t})}):i.jsx(le.div,{...d,ref:t})})}),Mt="ToggleGroupItem",Cr=p.forwardRef((e,t)=>{const n=xr(Mt,e.__scopeToggleGroup),r=Ia(Mt,e.__scopeToggleGroup),o=wr(e.__scopeToggleGroup),s=n.value.includes(e.value),l=r.disabled||e.disabled,a={...e,pressed:s,disabled:l},c=p.useRef(null);return r.rovingFocus?i.jsx(sr,{asChild:!0,...o,focusable:!l,active:s,ref:c,children:i.jsx(En,{...a,ref:t})}):i.jsx(En,{...a,ref:t})});Cr.displayName=Mt;var En=p.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,s=xr(Mt,n),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?l:void 0;return i.jsx(vr,{...a,...o,ref:t,onPressedChange:c=>{c?s.onItemActivate(r):s.onItemDeactivate(r)}})}),Wa=pn,Fa=Cr;const za=Io("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),kr=h.createContext({size:"default",variant:"default"});function Dr({className:e,variant:t,size:n,children:r,...o}){return i.jsx(Wa,{"data-slot":"toggle-group","data-variant":t,"data-size":n,className:H("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",e),...o,children:i.jsx(kr.Provider,{value:{variant:t,size:n},children:r})})}function it({className:e,children:t,variant:n,size:r,...o}){const s=h.useContext(kr);return i.jsx(Fa,{"data-slot":"toggle-group-item","data-variant":s.variant||n,"data-size":s.size||r,className:H(za({variant:s.variant||n,size:s.size||r}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",e),...o,children:t})}function Ba({value:e,onChange:t}){const[n,r]=h.useState(""),o=()=>{const a=n.trim();if(!a)return;const c=a.split(/\s+/).map(u=>u.trim()).filter(Boolean).map(u=>u.startsWith("#")?u:`#${u}`).map(u=>u.replace(/\s+/g,"")),f=Array.from(new Set([...e,...c]));t(f),r("")},s=a=>{const c=e.filter((f,u)=>u!==a);t(c)},l=a=>{a.key===" "||a.key==="Enter"||a.key==="Tab"?n.trim().length>0&&(a.preventDefault(),o()):a.key==="Backspace"&&n.length===0&&e.length>0&&(a.preventDefault(),t(e.slice(0,-1)))};return i.jsxs("div",{className:"mt-5 form-field",children:[i.jsx(Be,{className:"block",children:"Hashtags"}),i.jsxs("div",{className:"flex min-h-10 flex-wrap items-center gap-2 rounded-md border px-2 py-1.5",children:[e.map((a,c)=>i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border bg-zinc-50 px-2 py-0.5 text-xs text-zinc-800",children:[a,i.jsx("button",{type:"button","aria-label":`Remove ${a}`,className:"text-zinc-500 hover:text-zinc-800",onClick:()=>s(c),children:"×"})]},a)),i.jsx("input",{className:"flex-1 min-w-[8rem] bg-transparent outline-none text-sm",value:n,onChange:a=>r(a.target.value),onKeyDown:l,onBlur:o,placeholder:e.length===0?"#ai #startups #product":""})]}),i.jsx("div",{className:"text-[11px] text-zinc-500",children:"Aim for 3–5 relevant hashtags."})]})}function $a(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Ha={},lt={};function qe(e,t){try{const r=(Ha[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in lt?lt[r]:Pn(r,r.split(":"))}catch{if(e in lt)return lt[e];const n=e?.match(La);return n?Pn(e,n.slice(1)):NaN}}const La=/([+-]\d\d):?(\d\d)?/;function Pn(e,t){const n=+(t[0]||0),r=+(t[1]||0),o=+(t[2]||0)/60;return lt[e]=n*60+r>0?n*60+r+o:n*60-r-o}class je extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(qe(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Nr(this),cn(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new je(...n,t):new je(Date.now(),t)}withTimeZone(t){return new je(+this,t)}getTimezoneOffset(){const t=-qe(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),cn(this),+this}[Symbol.for("constructDateFrom")](t){return new je(+new Date(t),this.timeZone)}}const On=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!On.test(e))return;const t=e.replace(On,"$1UTC");je.prototype[t]&&(e.startsWith("get")?je.prototype[e]=function(){return this.internal[t]()}:(je.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Ya(this),+this},je.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),cn(this),+this}))});function cn(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-qe(e.timeZone,e)*60))}function Ya(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Nr(e)}function Nr(e){const t=qe(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const o=-new Date(+e).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),l=o-s,a=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&a&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const c=o-n;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const f=new Date(+e);f.setUTCSeconds(0);const u=o>0?f.getSeconds():(f.getSeconds()-60)%60,d=Math.round(-(qe(e.timeZone,e)*60))%60;(d||u)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+d+u));const m=qe(e.timeZone,e),v=m>0?Math.floor(m):Math.ceil(m),S=-new Date(+e).getTimezoneOffset()-v,y=v!==n,b=S-c;if(y&&b){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+b);const j=qe(e.timeZone,e),D=j>0?Math.floor(j):Math.ceil(j),k=v-D;k&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+k),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+k))}}class ue extends je{static tz(t,...n){return n.length?new ue(...n,t):new ue(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),o=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,o]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${o}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,o]=this.tzComponents();return`${t} GMT${n}${r}${o} (${$a(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),o=String(Math.abs(t)%60).padStart(2,"0");return[n,r,o]}withTimeZone(t){return new ue(+this,t)}[Symbol.for("constructDateFrom")](t){return new ue(+new Date(t),this.timeZone)}}const Rn=5,Ua=4;function Ga(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,o=t.addDays(e,-r+1),s=t.addDays(o,Rn*7-1);return t.getMonth(e)===t.getMonth(s)?Rn:Ua}function jr(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function qa(e,t){const n=jr(e,t),r=Ga(e,t);return t.addDays(n,r*7-1)}class Ie{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ue.tz(this.options.timeZone):new this.Date,this.newDate=(r,o,s)=>this.overrides?.newDate?this.overrides.newDate(r,o,s):this.options.timeZone?new ue(r,o,s,this.options.timeZone):new Date(r,o,s),this.addDays=(r,o)=>this.overrides?.addDays?this.overrides.addDays(r,o):Kn(r,o),this.addMonths=(r,o)=>this.overrides?.addMonths?this.overrides.addMonths(r,o):Zn(r,o),this.addWeeks=(r,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,o):Rs(r,o),this.addYears=(r,o)=>this.overrides?.addYears?this.overrides.addYears(r,o):_s(r,o),this.differenceInCalendarDays=(r,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,o):ys(r,o),this.differenceInCalendarMonths=(r,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,o):Qo(r,o),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):zs(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):qa(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):Hs(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):Jo(r),this.endOfWeek=(r,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,o):Xn(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):$s(r),this.format=(r,o,s)=>{const l=this.overrides?.format?this.overrides.format(r,o,this.options):Xe(r,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):xs(r),this.getMonth=(r,o)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):Ys(r,this.options),this.getYear=(r,o)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Us(r,this.options),this.getWeek=(r,o)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):Ss(r,this.options),this.isAfter=(r,o)=>this.overrides?.isAfter?this.overrides.isAfter(r,o):Gs(r,o),this.isBefore=(r,o)=>this.overrides?.isBefore?this.overrides.isBefore(r,o):qs(r,o),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Cs(r),this.isSameDay=(r,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,o):Ws(r,o),this.isSameMonth=(r,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,o):Vs(r,o),this.isSameYear=(r,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,o):Ks(r,o),this.max=r=>this.overrides?.max?this.overrides.max(r):As(r),this.min=r=>this.overrides?.min?this.overrides.min(r):Is(r),this.setMonth=(r,o)=>this.overrides?.setMonth?this.overrides.setMonth(r,o):Zs(r,o),this.setYear=(r,o)=>this.overrides?.setYear?this.overrides.setYear(r,o):Xs(r,o),this.startOfBroadcastWeek=(r,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):jr(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Tt(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):ks(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):Bs(r),this.startOfWeek=(r,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):Ds(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):Ns(r),this.options={locale:Vn,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let o=0;o<10;o++)r[o.toString()]=n.format(o);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}}const Me=new Ie;class Tr{constructor(t,n,r=Me){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Va{constructor(t,n){this.date=t,this.weeks=n}}class Ka{constructor(t,n){this.days=n,this.weekNumber=t}}function Za(e){return p.createElement("button",{...e})}function Xa(e){return p.createElement("span",{...e})}function Qa(e){const{size:t=24,orientation:n="left",className:r}=e;return p.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&p.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&p.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&p.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&p.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ja(e){const{day:t,modifiers:n,...r}=e;return p.createElement("td",{...r})}function ei(e){const{day:t,modifiers:n,...r}=e,o=p.useRef(null);return p.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),p.createElement("button",{ref:o,...r})}var I;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(I||(I={}));var ne;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(ne||(ne={}));var we;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(we||(we={}));var pe;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(pe||(pe={}));function ti(e){const{options:t,className:n,components:r,classNames:o,...s}=e,l=[o[I.Dropdown],n].join(" "),a=t?.find(({value:c})=>c===s.value);return p.createElement("span",{"data-disabled":s.disabled,className:o[I.DropdownRoot]},p.createElement(r.Select,{className:l,...s},t?.map(({value:c,label:f,disabled:u})=>p.createElement(r.Option,{key:c,value:c,disabled:u},f))),p.createElement("span",{className:o[I.CaptionLabel],"aria-hidden":!0},a?.label,p.createElement(r.Chevron,{orientation:"down",size:18,className:o[I.Chevron]})))}function ni(e){return p.createElement("div",{...e})}function ri(e){return p.createElement("div",{...e})}function oi(e){const{calendarMonth:t,displayIndex:n,...r}=e;return p.createElement("div",{...r},e.children)}function si(e){const{calendarMonth:t,displayIndex:n,...r}=e;return p.createElement("div",{...r})}function ai(e){return p.createElement("table",{...e})}function ii(e){return p.createElement("div",{...e})}const Mr=h.createContext(void 0);function ft(){const e=h.useContext(Mr);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function li(e){const{components:t}=ft();return p.createElement(t.Dropdown,{...e})}function ci(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:o,...s}=e,{components:l,classNames:a,labels:{labelPrevious:c,labelNext:f}}=ft(),u=h.useCallback(m=>{o&&n?.(m)},[o,n]),d=h.useCallback(m=>{r&&t?.(m)},[r,t]);return p.createElement("nav",{...s},p.createElement(l.PreviousMonthButton,{type:"button",className:a[I.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:d},p.createElement(l.Chevron,{disabled:r?void 0:!0,className:a[I.Chevron],orientation:"left"})),p.createElement(l.NextMonthButton,{type:"button",className:a[I.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":f(o),onClick:u},p.createElement(l.Chevron,{disabled:o?void 0:!0,orientation:"right",className:a[I.Chevron]})))}function ui(e){const{components:t}=ft();return p.createElement(t.Button,{...e})}function di(e){return p.createElement("option",{...e})}function fi(e){const{components:t}=ft();return p.createElement(t.Button,{...e})}function hi(e){const{rootRef:t,...n}=e;return p.createElement("div",{...n,ref:t})}function mi(e){return p.createElement("select",{...e})}function pi(e){const{week:t,...n}=e;return p.createElement("tr",{...n})}function gi(e){return p.createElement("th",{...e})}function vi(e){return p.createElement("thead",{"aria-hidden":!0},p.createElement("tr",{...e}))}function bi(e){const{week:t,...n}=e;return p.createElement("th",{...n})}function wi(e){return p.createElement("th",{...e})}function yi(e){return p.createElement("tbody",{...e})}function xi(e){const{components:t}=ft();return p.createElement(t.Dropdown,{...e})}const Si=Object.freeze(Object.defineProperty({__proto__:null,Button:Za,CaptionLabel:Xa,Chevron:Qa,Day:Ja,DayButton:ei,Dropdown:ti,DropdownNav:ni,Footer:ri,Month:oi,MonthCaption:si,MonthGrid:ai,Months:ii,MonthsDropdown:li,Nav:ci,NextMonthButton:ui,Option:di,PreviousMonthButton:fi,Root:hi,Select:mi,Week:pi,WeekNumber:bi,WeekNumberHeader:wi,Weekday:gi,Weekdays:vi,Weeks:yi,YearsDropdown:xi},Symbol.toStringTag,{value:"Module"}));function Re(e,t,n=!1,r=Me){let{from:o,to:s}=e;const{differenceInCalendarDays:l,isSameDay:a}=r;return o&&s?(l(s,o)<0&&([o,s]=[s,o]),l(t,o)>=(n?1:0)&&l(s,t)>=(n?1:0)):!n&&s?a(s,t):!n&&o?a(o,t):!1}function Er(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function gn(e){return!!(e&&typeof e=="object"&&"from"in e)}function Pr(e){return!!(e&&typeof e=="object"&&"after"in e)}function Or(e){return!!(e&&typeof e=="object"&&"before"in e)}function Rr(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function _r(e,t){return Array.isArray(e)&&e.every(t.isDate)}function _e(e,t,n=Me){const r=Array.isArray(t)?t:[t],{isSameDay:o,differenceInCalendarDays:s,isAfter:l}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return o(e,a);if(_r(a,n))return a.includes(e);if(gn(a))return Re(a,e,!1,n);if(Rr(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(Er(a)){const c=s(a.before,e),f=s(a.after,e),u=c>0,d=f<0;return l(a.before,a.after)?d&&u:u||d}return Pr(a)?s(e,a.after)>0:Or(a)?s(a.before,e)>0:typeof a=="function"?a(e):!1})}function Ci(e,t,n,r,o){const{disabled:s,hidden:l,modifiers:a,showOutsideDays:c,broadcastCalendar:f,today:u}=t,{isSameDay:d,isSameMonth:m,startOfMonth:v,isBefore:w,endOfMonth:S,isAfter:y}=o,b=n&&v(n),j=r&&S(r),D={[ne.focused]:[],[ne.outside]:[],[ne.disabled]:[],[ne.hidden]:[],[ne.today]:[]},k={};for(const C of e){const{date:E,displayMonth:x}=C,N=!!(x&&!m(E,x)),T=!!(b&&w(E,b)),O=!!(j&&y(E,j)),g=!!(s&&_e(E,s,o)),F=!!(l&&_e(E,l,o))||T||O||!f&&!c&&N||f&&c===!1&&N,M=d(E,u??o.today());N&&D.outside.push(C),g&&D.disabled.push(C),F&&D.hidden.push(C),M&&D.today.push(C),a&&Object.keys(a).forEach(G=>{const q=a?.[G];q&&_e(E,q,o)&&(k[G]?k[G].push(C):k[G]=[C])})}return C=>{const E={[ne.focused]:!1,[ne.disabled]:!1,[ne.hidden]:!1,[ne.outside]:!1,[ne.today]:!1},x={};for(const N in D){const T=D[N];E[N]=T.some(O=>O===C)}for(const N in k)x[N]=k[N].some(T=>T===C);return{...E,...x}}}function ki(e,t,n={}){return Object.entries(e).filter(([,o])=>o===!0).reduce((o,[s])=>(n[s]?o.push(n[s]):t[ne[s]]?o.push(t[ne[s]]):t[we[s]]&&o.push(t[we[s]]),o),[t[I.Day]])}function Di(e){return{...Si,...e}}function Ni(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function vn(){const e={};for(const t in I)e[I[t]]=`rdp-${I[t]}`;for(const t in ne)e[ne[t]]=`rdp-${ne[t]}`;for(const t in we)e[we[t]]=`rdp-${we[t]}`;for(const t in pe)e[pe[t]]=`rdp-${pe[t]}`;return e}function Ar(e,t,n){return(n??new Ie(t)).format(e,"LLLL y")}const ji=Ar;function Ti(e,t,n){return(n??new Ie(t)).format(e,"d")}function Mi(e,t=Me){return t.format(e,"LLLL")}function Ei(e,t,n){return(n??new Ie(t)).format(e,"cccccc")}function Pi(e,t=Me){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function Oi(){return""}function Ir(e,t=Me){return t.format(e,"yyyy")}const Ri=Ir,_i=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Ar,formatDay:Ti,formatMonthCaption:ji,formatMonthDropdown:Mi,formatWeekNumber:Pi,formatWeekNumberHeader:Oi,formatWeekdayName:Ei,formatYearCaption:Ri,formatYearDropdown:Ir},Symbol.toStringTag,{value:"Module"}));function Ai(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{..._i,...e}}function Ii(e,t,n,r,o){const{startOfMonth:s,startOfYear:l,endOfYear:a,eachMonthOfInterval:c,getMonth:f}=o;return c({start:l(e),end:a(e)}).map(m=>{const v=r.formatMonthDropdown(m,o),w=f(m),S=t&&m<s(t)||n&&m>s(n)||!1;return{value:w,label:v,disabled:S}})}function Wi(e,t={},n={}){let r={...t?.[I.Day]};return Object.entries(e).filter(([,o])=>o===!0).forEach(([o])=>{r={...r,...n?.[o]}}),r}function Fi(e,t,n){const r=e.today(),o=t?e.startOfISOWeek(r):e.startOfWeek(r),s=[];for(let l=0;l<7;l++){const a=e.addDays(o,l);s.push(a)}return s}function zi(e,t,n,r,o=!1){if(!e||!t)return;const{startOfYear:s,endOfYear:l,addYears:a,getYear:c,isBefore:f,isSameYear:u}=r,d=s(e),m=l(t),v=[];let w=d;for(;f(w,m)||u(w,m);)v.push(w),w=a(w,1);return o&&v.reverse(),v.map(S=>{const y=n.formatYearDropdown(S,r);return{value:c(S),label:y,disabled:!1}})}function Wr(e,t,n,r){let o=(r??new Ie(n)).format(e,"PPPP");return t.today&&(o=`Today, ${o}`),t.selected&&(o=`${o}, selected`),o}const Bi=Wr;function Fr(e,t,n){return(n??new Ie(t)).format(e,"LLLL y")}const $i=Fr;function Hi(e,t,n,r){let o=(r??new Ie(n)).format(e,"PPPP");return t?.today&&(o=`Today, ${o}`),o}function Li(e){return"Choose the Month"}function Yi(){return""}function Ui(e){return"Go to the Next Month"}function Gi(e){return"Go to the Previous Month"}function qi(e,t,n){return(n??new Ie(t)).format(e,"cccc")}function Vi(e,t){return`Week ${e}`}function Ki(e){return"Week Number"}function Zi(e){return"Choose the Year"}const Xi=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:$i,labelDay:Bi,labelDayButton:Wr,labelGrid:Fr,labelGridcell:Hi,labelMonthDropdown:Li,labelNav:Yi,labelNext:Ui,labelPrevious:Gi,labelWeekNumber:Vi,labelWeekNumberHeader:Ki,labelWeekday:qi,labelYearDropdown:Zi},Symbol.toStringTag,{value:"Module"})),ht=e=>e instanceof HTMLElement?e:null,Jt=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Qi=e=>ht(e.querySelector("[data-animated-month]")),en=e=>ht(e.querySelector("[data-animated-caption]")),tn=e=>ht(e.querySelector("[data-animated-weeks]")),Ji=e=>ht(e.querySelector("[data-animated-nav]")),el=e=>ht(e.querySelector("[data-animated-weekdays]"));function tl(e,t,{classNames:n,months:r,focused:o,dateLib:s}){const l=h.useRef(null),a=h.useRef(r),c=h.useRef(!1);h.useLayoutEffect(()=>{const f=a.current;if(a.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||f.length===0||r.length!==f.length)return;const u=s.isSameMonth(r[0].date,f[0].date),d=s.isAfter(r[0].date,f[0].date),m=d?n[pe.caption_after_enter]:n[pe.caption_before_enter],v=d?n[pe.weeks_after_enter]:n[pe.weeks_before_enter],w=l.current,S=e.current.cloneNode(!0);if(S instanceof HTMLElement?(Jt(S).forEach(D=>{if(!(D instanceof HTMLElement))return;const k=Qi(D);k&&D.contains(k)&&D.removeChild(k);const C=en(D);C&&C.classList.remove(m);const E=tn(D);E&&E.classList.remove(v)}),l.current=S):l.current=null,c.current||u||o)return;const y=w instanceof HTMLElement?Jt(w):[],b=Jt(e.current);if(b?.every(j=>j instanceof HTMLElement)&&y&&y.every(j=>j instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const j=Ji(e.current);j&&(j.style.zIndex="1"),b.forEach((D,k)=>{const C=y[k];if(!C)return;D.style.position="relative",D.style.overflow="hidden";const E=en(D);E&&E.classList.add(m);const x=tn(D);x&&x.classList.add(v);const N=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),j&&(j.style.zIndex=""),E&&E.classList.remove(m),x&&x.classList.remove(v),D.style.position="",D.style.overflow="",D.contains(C)&&D.removeChild(C)};C.style.pointerEvents="none",C.style.position="absolute",C.style.overflow="hidden",C.setAttribute("aria-hidden","true");const T=el(C);T&&(T.style.opacity="0");const O=en(C);O&&(O.classList.add(d?n[pe.caption_before_exit]:n[pe.caption_after_exit]),O.addEventListener("animationend",N));const g=tn(C);g&&g.classList.add(d?n[pe.weeks_before_exit]:n[pe.weeks_after_exit]),D.insertBefore(C,D.firstChild)})}})}function nl(e,t,n,r){const o=e[0],s=e[e.length-1],{ISOWeek:l,fixedWeeks:a,broadcastCalendar:c}=n??{},{addDays:f,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:m,endOfISOWeek:v,endOfMonth:w,endOfWeek:S,isAfter:y,startOfBroadcastWeek:b,startOfISOWeek:j,startOfWeek:D}=r,k=c?b(o,r):l?j(o):D(o),C=c?m(s):l?v(w(s)):S(w(s)),E=u(C,k),x=d(s,o)+1,N=[];for(let g=0;g<=E;g++){const F=f(k,g);if(t&&y(F,t))break;N.push(F)}const O=(c?35:42)*x;if(a&&N.length<O){const g=O-N.length;for(let F=0;F<g;F++){const M=f(N[N.length-1],1);N.push(M)}}return N}function rl(e){const t=[];return e.reduce((n,r)=>{const o=r.weeks.reduce((s,l)=>s.concat(l.days.slice()),t.slice());return n.concat(o.slice())},t.slice())}function ol(e,t,n,r){const{numberOfMonths:o=1}=n,s=[];for(let l=0;l<o;l++){const a=r.addMonths(e,l);if(t&&a>t)break;s.push(a)}return s}function _n(e,t,n,r){const{month:o,defaultMonth:s,today:l=r.today(),numberOfMonths:a=1}=e;let c=o||s||l;const{differenceInCalendarMonths:f,addMonths:u,startOfMonth:d}=r;if(n&&f(n,c)<a-1){const m=-1*(a-1);c=u(n,m)}return t&&f(c,t)<0&&(c=t),d(c)}function sl(e,t,n,r){const{addDays:o,endOfBroadcastWeek:s,endOfISOWeek:l,endOfMonth:a,endOfWeek:c,getISOWeek:f,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:m,startOfWeek:v}=r,w=e.reduce((S,y)=>{const b=n.broadcastCalendar?d(y,r):n.ISOWeek?m(y):v(y),j=n.broadcastCalendar?s(y):n.ISOWeek?l(a(y)):c(a(y)),D=t.filter(x=>x>=b&&x<=j),k=n.broadcastCalendar?35:42;if(n.fixedWeeks&&D.length<k){const x=t.filter(N=>{const T=k-D.length;return N>j&&N<=o(j,T)});D.push(...x)}const C=D.reduce((x,N)=>{const T=n.ISOWeek?f(N):u(N),O=x.find(F=>F.weekNumber===T),g=new Tr(N,y,r);return O?O.days.push(g):x.push(new Ka(T,[g])),x},[]),E=new Va(y,C);return S.push(E),S},[]);return n.reverseMonths?w.reverse():w}function al(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:o,startOfDay:s,startOfMonth:l,endOfMonth:a,addYears:c,endOfYear:f,newDate:u,today:d}=t,{fromYear:m,toYear:v,fromMonth:w,toMonth:S}=e;!n&&w&&(n=w),!n&&m&&(n=t.newDate(m,0,1)),!r&&S&&(r=S),!r&&v&&(r=u(v,11,31));const y=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):m?n=u(m,0,1):!n&&y&&(n=o(c(e.today??d(),-100))),r?r=a(r):v?r=u(v,11,31):!r&&y&&(r=f(e.today??d())),[n&&s(n),r&&s(r)]}function il(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s=1}=n,{startOfMonth:l,addMonths:a,differenceInCalendarMonths:c}=r,f=o?s:1,u=l(e);if(!t)return a(u,f);if(!(c(t,e)<s))return a(u,f)}function ll(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s}=n,{startOfMonth:l,addMonths:a,differenceInCalendarMonths:c}=r,f=o?s??1:1,u=l(e);if(!t)return a(u,-f);if(!(c(u,t)<=0))return a(u,-f)}function cl(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function Wt(e,t){const[n,r]=h.useState(e);return[t===void 0?n:t,r]}function ul(e,t){const[n,r]=al(e,t),{startOfMonth:o,endOfMonth:s}=t,l=_n(e,n,r,t),[a,c]=Wt(l,e.month?l:void 0);h.useEffect(()=>{const E=_n(e,n,r,t);c(E)},[e.timeZone]);const f=ol(a,r,e,t),u=nl(f,e.endMonth?s(e.endMonth):void 0,e,t),d=sl(f,u,e,t),m=cl(d),v=rl(d),w=ll(a,n,e,t),S=il(a,r,e,t),{disableNavigation:y,onMonthChange:b}=e,j=E=>m.some(x=>x.days.some(N=>N.isEqualTo(E))),D=E=>{if(y)return;let x=o(E);n&&x<o(n)&&(x=o(n)),r&&x>o(r)&&(x=o(r)),c(x),b?.(x)};return{months:d,weeks:m,days:v,navStart:n,navEnd:r,previousMonth:w,nextMonth:S,goToMonth:D,goToDay:E=>{j(E)||D(E.date)}}}var Ne;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Ne||(Ne={}));function An(e){return!e[ne.disabled]&&!e[ne.hidden]&&!e[ne.outside]}function dl(e,t,n,r){let o,s=-1;for(const l of e){const a=t(l);An(a)&&(a[ne.focused]&&s<Ne.FocusedModifier?(o=l,s=Ne.FocusedModifier):r?.isEqualTo(l)&&s<Ne.LastFocused?(o=l,s=Ne.LastFocused):n(l.date)&&s<Ne.Selected?(o=l,s=Ne.Selected):a[ne.today]&&s<Ne.Today&&(o=l,s=Ne.Today))}return o||(o=e.find(l=>An(t(l)))),o}function fl(e,t,n,r,o,s,l){const{ISOWeek:a,broadcastCalendar:c}=s,{addDays:f,addMonths:u,addWeeks:d,addYears:m,endOfBroadcastWeek:v,endOfISOWeek:w,endOfWeek:S,max:y,min:b,startOfBroadcastWeek:j,startOfISOWeek:D,startOfWeek:k}=l;let E={day:f,week:d,month:u,year:m,startOfWeek:x=>c?j(x,l):a?D(x):k(x),endOfWeek:x=>c?v(x):a?w(x):S(x)}[e](n,t==="after"?1:-1);return t==="before"&&r?E=y([r,E]):t==="after"&&o&&(E=b([o,E])),E}function zr(e,t,n,r,o,s,l,a=0){if(a>365)return;const c=fl(e,t,n.date,r,o,s,l),f=!!(s.disabled&&_e(c,s.disabled,l)),u=!!(s.hidden&&_e(c,s.hidden,l)),d=c,m=new Tr(c,d,l);return!f&&!u?m:zr(e,t,m,r,o,s,l,a+1)}function hl(e,t,n,r,o){const{autoFocus:s}=e,[l,a]=h.useState(),c=dl(t.days,n,r||(()=>!1),l),[f,u]=h.useState(s?c:void 0);return{isFocusTarget:S=>!!c?.isEqualTo(S),setFocused:u,focused:f,blur:()=>{a(f),u(void 0)},moveFocus:(S,y)=>{if(!f)return;const b=zr(S,y,f,t.navStart,t.navEnd,e,o);b&&(t.goToDay(b),u(b))}}}function ml(e,t){const{selected:n,required:r,onSelect:o}=e,[s,l]=Wt(n,o?n:void 0),a=o?n:s,{isSameDay:c}=t,f=v=>a?.some(w=>c(w,v))??!1,{min:u,max:d}=e;return{selected:a,select:(v,w,S)=>{let y=[...a??[]];if(f(v)){if(a?.length===u||r&&a?.length===1)return;y=a?.filter(b=>!c(b,v))}else a?.length===d?y=[v]:y=[...y,v];return o||l(y),o?.(y,v,w,S),y},isSelected:f}}function pl(e,t,n=0,r=0,o=!1,s=Me){const{from:l,to:a}=t||{},{isSameDay:c,isAfter:f,isBefore:u}=s;let d;if(!l&&!a)d={from:e,to:n>0?void 0:e};else if(l&&!a)c(l,e)?n===0?d={from:l,to:e}:o?d={from:l,to:void 0}:d=void 0:u(e,l)?d={from:e,to:l}:d={from:l,to:e};else if(l&&a)if(c(l,e)&&c(a,e))o?d={from:l,to:a}:d=void 0;else if(c(l,e))d={from:l,to:n>0?void 0:e};else if(c(a,e))d={from:e,to:n>0?void 0:e};else if(u(e,l))d={from:e,to:a};else if(f(e,l))d={from:l,to:e};else if(f(e,a))d={from:l,to:e};else throw new Error("Invalid range");if(d?.from&&d?.to){const m=s.differenceInCalendarDays(d.to,d.from);r>0&&m>r?d={from:e,to:void 0}:n>1&&m<n&&(d={from:e,to:void 0})}return d}function gl(e,t,n=Me){const r=Array.isArray(t)?t:[t];let o=e.from;const s=n.differenceInCalendarDays(e.to,e.from),l=Math.min(s,6);for(let a=0;a<=l;a++){if(r.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function In(e,t,n=Me){return Re(e,t.from,!1,n)||Re(e,t.to,!1,n)||Re(t,e.from,!1,n)||Re(t,e.to,!1,n)}function vl(e,t,n=Me){const r=Array.isArray(t)?t:[t];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Re(e,a,!1,n):_r(a,n)?a.some(c=>Re(e,c,!1,n)):gn(a)?a.from&&a.to?In(e,{from:a.from,to:a.to},n):!1:Rr(a)?gl(e,a.dayOfWeek,n):Er(a)?n.isAfter(a.before,a.after)?In(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):_e(e.from,a,n)||_e(e.to,a,n):Pr(a)||Or(a)?_e(e.from,a,n)||_e(e.to,a,n):!1))return!0;const l=r.filter(a=>typeof a=="function");if(l.length){let a=e.from;const c=n.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=c;f++){if(l.some(u=>u(a)))return!0;a=n.addDays(a,1)}}return!1}function bl(e,t){const{disabled:n,excludeDisabled:r,selected:o,required:s,onSelect:l}=e,[a,c]=Wt(o,l?o:void 0),f=l?o:a;return{selected:f,select:(m,v,w)=>{const{min:S,max:y}=e,b=m?pl(m,f,S,y,s,t):void 0;return r&&n&&b?.from&&b.to&&vl({from:b.from,to:b.to},n,t)&&(b.from=m,b.to=void 0),l||c(b),l?.(b,m,v,w),b},isSelected:m=>f&&Re(f,m,!1,t)}}function wl(e,t){const{selected:n,required:r,onSelect:o}=e,[s,l]=Wt(n,o?n:void 0),a=o?n:s,{isSameDay:c}=t;return{selected:a,select:(d,m,v)=>{let w=d;return!r&&a&&a&&c(d,a)&&(w=void 0),o||l(w),o?.(w,d,m,v),w},isSelected:d=>a?c(a,d):!1}}function yl(e,t){const n=wl(e,t),r=ml(e,t),o=bl(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return o;default:return}}function xl(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new ue(t.today,t.timeZone)),t.month&&(t.month=new ue(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new ue(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new ue(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new ue(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new ue(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Y=>new ue(Y,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new ue(t.selected.from,t.timeZone):void 0,to:t.selected.to?new ue(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:r,labels:o,dateLib:s,locale:l,classNames:a}=h.useMemo(()=>{const Y={...Vn,...t.locale};return{dateLib:new Ie({locale:Y,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Di(t.components),formatters:Ai(t.formatters),labels:{...Xi,...t.labels},locale:Y,classNames:{...vn(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:c,mode:f,navLayout:u,numberOfMonths:d=1,onDayBlur:m,onDayClick:v,onDayFocus:w,onDayKeyDown:S,onDayMouseEnter:y,onDayMouseLeave:b,onNextClick:j,onPrevClick:D,showWeekNumber:k,styles:C}=t,{formatCaption:E,formatDay:x,formatMonthDropdown:N,formatWeekNumber:T,formatWeekNumberHeader:O,formatWeekdayName:g,formatYearDropdown:F}=r,M=ul(t,s),{days:G,months:q,navStart:B,navEnd:V,previousMonth:Z,nextMonth:U,goToMonth:X}=M,_=Ci(G,t,B,V,s),{isSelected:J,select:Q,selected:fe}=yl(t,s)??{},{blur:ve,focused:xe,isFocusTarget:Pe,moveFocus:A,setFocused:ee}=hl(t,M,_,J??(()=>!1),s),{labelDayButton:Se,labelGridcell:Ce,labelGrid:Ve,labelMonthDropdown:pt,labelNav:L,labelPrevious:gt,labelNext:vt,labelWeekday:nt,labelWeekNumber:$t,labelWeekNumberHeader:Ht,labelYearDropdown:We}=o,bt=h.useMemo(()=>Fi(s,t.ISOWeek),[s,t.ISOWeek]),wt=f!==void 0||v!==void 0,Oe=h.useCallback(()=>{Z&&(X(Z),D?.(Z))},[Z,X,D]),rt=h.useCallback(()=>{U&&(X(U),j?.(U))},[X,U,j]),yt=h.useCallback((Y,P)=>R=>{R.preventDefault(),R.stopPropagation(),ee(Y),Q?.(Y.date,P,R),v?.(Y.date,P,R)},[Q,v,ee]),Lt=h.useCallback((Y,P)=>R=>{ee(Y),w?.(Y.date,P,R)},[w,ee]),Yt=h.useCallback((Y,P)=>R=>{ve(),m?.(Y.date,P,R)},[ve,m]),Ke=h.useCallback((Y,P)=>R=>{const z={ArrowLeft:[R.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[R.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[R.shiftKey?"year":"week","after"],ArrowUp:[R.shiftKey?"year":"week","before"],PageUp:[R.shiftKey?"year":"month","before"],PageDown:[R.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(z[R.key]){R.preventDefault(),R.stopPropagation();const[$,W]=z[R.key];A($,W)}S?.(Y.date,P,R)},[A,S,t.dir]),Ut=h.useCallback((Y,P)=>R=>{y?.(Y.date,P,R)},[y]),xt=h.useCallback((Y,P)=>R=>{b?.(Y.date,P,R)},[b]),Gt=h.useCallback(Y=>P=>{const R=Number(P.target.value),z=s.setMonth(s.startOfMonth(Y),R);X(z)},[s,X]),Le=h.useCallback(Y=>P=>{const R=Number(P.target.value),z=s.setYear(s.startOfMonth(Y),R);X(z)},[s,X]),{className:St,style:qt}=h.useMemo(()=>({className:[a[I.Root],t.className].filter(Boolean).join(" "),style:{...C?.[I.Root],...t.style}}),[a,t.className,t.style,C]),Vt=Ni(t),Ct=h.useRef(null);tl(Ct,!!t.animate,{classNames:a,months:q,focused:xe,dateLib:s});const Kt={dayPickerProps:t,selected:fe,select:Q,isSelected:J,months:q,nextMonth:U,previousMonth:Z,goToMonth:X,getModifiers:_,components:n,classNames:a,styles:C,labels:o,formatters:r};return p.createElement(Mr.Provider,{value:Kt},p.createElement(n.Root,{rootRef:t.animate?Ct:void 0,className:St,style:qt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Vt},p.createElement(n.Months,{className:a[I.Months],style:C?.[I.Months]},!t.hideNavigation&&!u&&p.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[I.Nav],style:C?.[I.Nav],"aria-label":L(),onPreviousClick:Oe,onNextClick:rt,previousMonth:Z,nextMonth:U}),q.map((Y,P)=>p.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:a[I.Month],style:C?.[I.Month],key:P,displayIndex:P,calendarMonth:Y},u==="around"&&!t.hideNavigation&&P===0&&p.createElement(n.PreviousMonthButton,{type:"button",className:a[I.PreviousMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":gt(Z),onClick:Oe,"data-animated-button":t.animate?"true":void 0},p.createElement(n.Chevron,{disabled:Z?void 0:!0,className:a[I.Chevron],orientation:t.dir==="rtl"?"right":"left"})),p.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:a[I.MonthCaption],style:C?.[I.MonthCaption],calendarMonth:Y,displayIndex:P},c?.startsWith("dropdown")?p.createElement(n.DropdownNav,{className:a[I.Dropdowns],style:C?.[I.Dropdowns]},c==="dropdown"||c==="dropdown-months"?p.createElement(n.MonthsDropdown,{className:a[I.MonthsDropdown],"aria-label":pt(),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:Gt(Y.date),options:Ii(Y.date,B,V,r,s),style:C?.[I.Dropdown],value:s.getMonth(Y.date)}):p.createElement("span",null,N(Y.date,s)),c==="dropdown"||c==="dropdown-years"?p.createElement(n.YearsDropdown,{className:a[I.YearsDropdown],"aria-label":We(s.options),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:Le(Y.date),options:zi(B,V,r,s,!!t.reverseYears),style:C?.[I.Dropdown],value:s.getYear(Y.date)}):p.createElement("span",null,F(Y.date,s)),p.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},E(Y.date,s.options,s))):p.createElement(n.CaptionLabel,{className:a[I.CaptionLabel],role:"status","aria-live":"polite"},E(Y.date,s.options,s))),u==="around"&&!t.hideNavigation&&P===d-1&&p.createElement(n.NextMonthButton,{type:"button",className:a[I.NextMonthButton],tabIndex:U?void 0:-1,"aria-disabled":U?void 0:!0,"aria-label":vt(U),onClick:rt,"data-animated-button":t.animate?"true":void 0},p.createElement(n.Chevron,{disabled:U?void 0:!0,className:a[I.Chevron],orientation:t.dir==="rtl"?"left":"right"})),P===d-1&&u==="after"&&!t.hideNavigation&&p.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[I.Nav],style:C?.[I.Nav],"aria-label":L(),onPreviousClick:Oe,onNextClick:rt,previousMonth:Z,nextMonth:U}),p.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":Ve(Y.date,s.options,s)||void 0,className:a[I.MonthGrid],style:C?.[I.MonthGrid]},!t.hideWeekdays&&p.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:a[I.Weekdays],style:C?.[I.Weekdays]},k&&p.createElement(n.WeekNumberHeader,{"aria-label":Ht(s.options),className:a[I.WeekNumberHeader],style:C?.[I.WeekNumberHeader],scope:"col"},O()),bt.map(R=>p.createElement(n.Weekday,{"aria-label":nt(R,s.options,s),className:a[I.Weekday],key:String(R),style:C?.[I.Weekday],scope:"col"},g(R,s.options,s)))),p.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:a[I.Weeks],style:C?.[I.Weeks]},Y.weeks.map(R=>p.createElement(n.Week,{className:a[I.Week],key:R.weekNumber,style:C?.[I.Week],week:R},k&&p.createElement(n.WeekNumber,{week:R,style:C?.[I.WeekNumber],"aria-label":$t(R.weekNumber,{locale:l}),className:a[I.WeekNumber],scope:"row",role:"rowheader"},T(R.weekNumber,s)),R.days.map(z=>{const{date:$}=z,W=_(z);if(W[ne.focused]=!W.hidden&&!!xe?.isEqualTo(z),W[we.selected]=J?.($)||W.selected,gn(fe)){const{from:he,to:be}=fe;W[we.range_start]=!!(he&&be&&s.isSameDay($,he)),W[we.range_end]=!!(he&&be&&s.isSameDay($,be)),W[we.range_middle]=Re(fe,$,!0,s)}const ce=Wi(W,C,t.modifiersStyles),ie=ki(W,a,t.modifiersClassNames),ke=!wt&&!W.hidden?Ce($,W,s.options,s):void 0;return p.createElement(n.Day,{key:`${s.format($,"yyyy-MM-dd")}_${s.format(z.displayMonth,"yyyy-MM")}`,day:z,modifiers:W,className:ie.join(" "),style:ce,role:"gridcell","aria-selected":W.selected||void 0,"aria-label":ke,"data-day":s.format($,"yyyy-MM-dd"),"data-month":z.outside?s.format($,"yyyy-MM"):void 0,"data-selected":W.selected||void 0,"data-disabled":W.disabled||void 0,"data-hidden":W.hidden||void 0,"data-outside":z.outside||void 0,"data-focused":W.focused||void 0,"data-today":W.today||void 0},!W.hidden&&wt?p.createElement(n.DayButton,{className:a[I.DayButton],style:C?.[I.DayButton],type:"button",day:z,modifiers:W,disabled:W.disabled||void 0,tabIndex:Pe(z)?0:-1,"aria-label":Se($,W,s.options,s),onClick:yt(z,W),onBlur:Yt(z,W),onFocus:Lt(z,W),onKeyDown:Ke(z,W),onMouseEnter:Ut(z,W),onMouseLeave:xt(z,W)},x($,s.options,s)):!W.hidden&&x(z.date,s.options,s))})))))))),t.footer&&p.createElement(n.Footer,{className:a[I.Footer],style:C?.[I.Footer],role:"status","aria-live":"polite"},t.footer)))}function Sl({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:o="ghost",formatters:s,components:l,...a}){const c=vn();return i.jsx(xl,{showOutsideDays:n,className:H("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:f=>f.toLocaleString("default",{month:"short"}),...s},classNames:{root:H("w-fit",c.root),months:H("flex gap-4 flex-col md:flex-row relative",c.months),month:H("flex flex-col w-full gap-4",c.month),nav:H("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:H(kn({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:H(kn({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:H("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",c.month_caption),dropdowns:H("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",c.dropdowns),dropdown_root:H("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:H("absolute bg-popover inset-0 opacity-0",c.dropdown),caption_label:H("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:H("flex",c.weekdays),weekday:H("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:H("flex w-full mt-2",c.week),week_number_header:H("select-none w-(--cell-size)",c.week_number_header),week_number:H("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:H("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:H("rounded-l-md bg-accent",c.range_start),range_middle:H("rounded-none",c.range_middle),range_end:H("rounded-r-md bg-accent",c.range_end),today:H("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:H("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:H("text-muted-foreground opacity-50",c.disabled),hidden:H("invisible",c.hidden),...t},components:{Root:({className:f,rootRef:u,...d})=>i.jsx("div",{"data-slot":"calendar",ref:u,className:H(f),...d}),Chevron:({className:f,orientation:u,...d})=>u==="left"?i.jsx(Ts,{className:H("size-4",f),...d}):u==="right"?i.jsx(Es,{className:H("size-4",f),...d}):i.jsx(es,{className:H("size-4",f),...d}),DayButton:Cl,WeekNumber:({children:f,...u})=>i.jsx("td",{...u,children:i.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:f})}),...l},...a})}function Cl({className:e,day:t,modifiers:n,...r}){const o=vn(),s=h.useRef(null);return h.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),i.jsx(re,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:H("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}const kl=(e,t)=>{if(e&&typeof e=="object"&&"error"in e){const n=e.error;if(typeof n=="string")return n}return t},Dl=e=>e==="pending"||e==="approved"||e==="rejected",Nl=e=>!!(e&&typeof e=="object"&&"then"in e&&typeof e.then=="function"),jl=()=>{const e=new Date,t=new Date(e);return t.setMinutes(0,0,0),t.setHours(t.getHours()+1),t},Br=/\n{2,}/,Tl=e=>e?(e.split(Br)[0]||"").trim():"",$r=(e,t)=>{const n=t.replace(/\s+/g," ").trim();if(!e)return n;const r=e.split(Br);return r.length?(r[0]=n,r.map((s,l)=>l===0?s.trim():s.trimEnd()).join(`

`).trimEnd()):n};function Ml({disabled:e,triggerTitle:t,scheduleInfo:n,onSchedule:r,onUnschedule:o,isScheduling:s,isUnscheduling:l}){const[a,c]=h.useState(!1),[f,u]=h.useState(),[d,m]=h.useState("09:00"),[v,w]=h.useState(null),[S,y]=h.useState(!1),b=h.useId(),j=h.useMemo(()=>Intl.DateTimeFormat().resolvedOptions().timeZone,[]);h.useEffect(()=>{if(a){if(n?.scheduledAt)u(n.scheduledAt),m(Xe(n.scheduledAt,"HH:mm"));else{const O=jl(),g=jn(),F=new Date(O.getFullYear(),O.getMonth(),O.getDate());u(F.getTime()===g.getTime()?g:F),m(Xe(O,"HH:mm"))}w(null)}},[a,n?.scheduledAt]);const D=n?.status==="publishing",k=S||s||l||D,C=!!(n?.status||n?.scheduledAt),E=O=>{e&&O||c(O)},x=async()=>{if(!f||!d){w("Please pick date and time");return}const[O,g]=d.split(":"),F=Number(O),M=Number(g);if(!Number.isFinite(F)||!Number.isFinite(M)){w("Invalid time");return}const G=new Date(f);if(G.setHours(F,M,0,0),G.getTime()<=Date.now()){w("Scheduled time must be in the future");return}y(!0);try{await r(G),c(!1)}catch{}finally{y(!1)}},N=async()=>{y(!0);try{await o(),c(!1)}finally{y(!1)}},T=e?D?"Publishing in progress":"Please wait for scheduling to complete":t;return i.jsxs(fs,{open:a,onOpenChange:E,children:[i.jsx(hs,{asChild:!0,children:i.jsx(re,{size:"sm",variant:"outline",disabled:e||k,title:T,children:n?.status==="scheduled"&&n?.scheduledAt?"Scheduled":"Schedule"})}),i.jsxs(ms,{className:"sm:max-w-md",children:[i.jsxs(ps,{children:[i.jsx(gs,{children:"Schedule post"}),i.jsxs(vs,{children:["Choose a future date and time. Times use your timezone (",j,")."]})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsx(Sl,{mode:"single",selected:f,onSelect:O=>u(O??void 0),disabled:O=>O<jn(),initialFocus:!0}),i.jsxs("div",{className:"form-field",children:[i.jsx(Be,{htmlFor:b,children:"Time"}),i.jsx(us,{id:b,type:"time",value:d,onChange:O=>m(O.target.value)})]}),v?i.jsx("p",{className:"text-xs text-red-600",children:v}):null]}),i.jsx(bs,{children:i.jsxs("div",{className:"flex w-full flex-col-reverse gap-2 sm:flex-row sm:items-center sm:justify-between",children:[C?i.jsx(re,{type:"button",variant:"ghost",onClick:N,disabled:k,children:l||S?"Unscheduling…":"Unschedule"}):i.jsx("span",{className:"hidden sm:block"}),i.jsx(re,{type:"button",onClick:x,disabled:k,children:s||S?"Scheduling…":"Confirm schedule"})]})})]})]})}function El({info:e}){if(!e)return null;const{status:t,scheduledAt:n,error:r,attemptedAt:o,postStatus:s,publishedAt:l}=e;return s==="published"?i.jsxs("div",{className:"text-xs text-emerald-600",children:["Published",l?` ${Xe(l,"PPpp")}`:"",l?` (${Zt(l,{addSuffix:!0})})`:""]}):t==="scheduled"&&n?i.jsxs("div",{className:"text-xs text-emerald-600",children:["Scheduled for ",Xe(n,"PPpp")," (",Zt(n,{addSuffix:!0}),")"]}):t==="publishing"?i.jsxs("div",{className:"space-y-1 text-xs text-sky-600",children:[i.jsx("div",{children:"Publishing in progress…"}),n?i.jsxs("div",{className:"text-sky-500/80",children:["Scheduled for ",Xe(n,"PPpp")]}):null]}):t==="failed"?i.jsxs("div",{className:"space-y-1 text-xs text-red-600",children:[i.jsxs("div",{children:["Publish attempt failed",r?`: ${r}`:"."]}),o?i.jsxs("div",{className:"text-red-500/80",children:["Attempted ",Zt(o,{addSuffix:!0})]}):null]}):null}function Pl(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Hr=p.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),mt=()=>{const e=p.useContext(Hr);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Pl(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Ol(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Rl(){return bn(/^Mac/)}function _l(){return bn(/^iPhone/)}function Wn(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Al(){return bn(/^iPad/)||Rl()&&navigator.maxTouchPoints>1}function Lr(){return _l()||Al()}function bn(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Il=24,Wl=typeof window<"u"?h.useLayoutEffect:h.useEffect;function Fn(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const nn=typeof document<"u"&&window.visualViewport;function zn(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Yr(e){for(zn(e)&&(e=e.parentElement);e&&!zn(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Fl=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Nt=0,rn;function zl(e={}){let{isDisabled:t}=e;Wl(()=>{if(!t)return Nt++,Nt===1&&Lr()&&(rn=Bl()),()=>{Nt--,Nt===0&&rn?.()}},[t])}function Bl(){let e,t=0,n=d=>{e=Yr(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},r=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let m=d.changedTouches[0].pageY,v=e.scrollTop,w=e.scrollHeight-e.clientHeight;w!==0&&((v<=0&&m>t||v>=w&&m<t)&&d.preventDefault(),t=m)},o=d=>{let m=d.target;un(m)&&m!==document.activeElement&&(d.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},s=d=>{let m=d.target;un(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",nn&&(nn.height<window.innerHeight?requestAnimationFrame(()=>{Bn(m)}):nn.addEventListener("resize",()=>Bn(m),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},a=window.pageXOffset,c=window.pageYOffset,f=Fn($l(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=Fn(ot(document,"touchstart",n,{passive:!1,capture:!0}),ot(document,"touchmove",r,{passive:!1,capture:!0}),ot(document,"touchend",o,{passive:!1,capture:!0}),ot(document,"focus",s,!0),ot(window,"scroll",l));return()=>{f(),u(),window.scrollTo(a,c)}}function $l(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function ot(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function Bn(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=Yr(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const l=n.getBoundingClientRect().bottom+Il;s>l&&(n.scrollTop+=o-r)}e=n.parentElement}}function un(e){return e instanceof HTMLInputElement&&!Fl.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Hl(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ll(...e){return t=>e.forEach(n=>Hl(n,t))}function Ur(...e){return h.useCallback(Ll(...e),e)}const Gr=new WeakMap;function se(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([o,s])=>{if(o.startsWith("--")){e.style.setProperty(o,s);return}r[o]=e.style[o],e.style[o]=s}),!n&&Gr.set(e,r)}function Yl(e,t){if(!e||!(e instanceof HTMLElement))return;let n=Gr.get(e);n&&(e.style[t]=n[t])}const oe=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function jt(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[oe(t)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[oe(t)?5:4]):null)}function Ul(e){return 8*(Math.log(e+1)-2)}function on(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Gl(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const te={DURATION:.5,EASE:[.32,.72,0,1]},qr=.4,ql=.25,Vl=100,Vr=8,Ye=16,dn=26,sn="vaul-dragging";function Kr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function Kl({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,o=p.useRef(r),s=Kr(t);return p.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}function Zr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Kl({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:r,a=Kr(n),c=p.useCallback(f=>{if(s){const d=typeof f=="function"?f(e):f;d!==e&&a(d)}else o(f)},[s,e,o,a]);return[l,c]}function Zl({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:o,fadeFromIndex:s,onSnapPointChange:l,direction:a="bottom",container:c,snapToSequentialPoint:f}){const[u,d]=Zr({prop:e,defaultProp:n?.[0],onChange:t}),[m,v]=p.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);p.useEffect(()=>{function x(){v({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const w=p.useMemo(()=>u===n?.[n.length-1]||null,[n,u]),S=p.useMemo(()=>{var x;return(x=n?.findIndex(N=>N===u))!=null?x:null},[n,u]),y=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===u||!n,b=p.useMemo(()=>{const x=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=n?.map(T=>{const O=typeof T=="string";let g=0;if(O&&(g=parseInt(T,10)),oe(a)){const M=O?g:m?T*x.height:0;return m?a==="bottom"?x.height-M:-x.height+M:M}const F=O?g:m?T*x.width:0;return m?a==="right"?x.width-F:-x.width+F:F}))!=null?N:[]},[n,m,c]),j=p.useMemo(()=>S!==null?b?.[S]:null,[b,S]),D=p.useCallback(x=>{var N;const T=(N=b?.findIndex(O=>O===x))!=null?N:null;l(T),se(r.current,{transition:`transform ${te.DURATION}s cubic-bezier(${te.EASE.join(",")})`,transform:oe(a)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`}),b&&T!==b.length-1&&s!==void 0&&T!==s&&T<s?se(o.current,{transition:`opacity ${te.DURATION}s cubic-bezier(${te.EASE.join(",")})`,opacity:"0"}):se(o.current,{transition:`opacity ${te.DURATION}s cubic-bezier(${te.EASE.join(",")})`,opacity:"1"}),d(n?.[Math.max(T,0)])},[r.current,n,b,s,o,d]);p.useEffect(()=>{if(u||e){var x;const N=(x=n?.findIndex(T=>T===e||T===u))!=null?x:-1;b&&N!==-1&&typeof b[N]=="number"&&D(b[N])}},[u,e,n,b,D]);function k({draggedDistance:x,closeDrawer:N,velocity:T,dismissible:O}){if(s===void 0)return;const g=a==="bottom"||a==="right"?(j??0)-x:(j??0)+x,F=S===s-1,M=S===0,G=x>0;if(F&&se(o.current,{transition:`opacity ${te.DURATION}s cubic-bezier(${te.EASE.join(",")})`}),!f&&T>2&&!G){O?N():D(b[0]);return}if(!f&&T>2&&G&&b&&n){D(b[n.length-1]);return}const q=b?.reduce((V,Z)=>typeof V!="number"||typeof Z!="number"?V:Math.abs(Z-g)<Math.abs(V-g)?Z:V),B=oe(a)?window.innerHeight:window.innerWidth;if(T>qr&&Math.abs(x)<B*.4){const V=G?1:-1;if(V>0&&w&&n){D(b[n.length-1]);return}if(M&&V<0&&O&&N(),S===null)return;D(b[S+V]);return}D(q)}function C({draggedDistance:x}){if(j===null)return;const N=a==="bottom"||a==="right"?j-x:j+x;(a==="bottom"||a==="right")&&N<b[b.length-1]||(a==="top"||a==="left")&&N>b[b.length-1]||se(r.current,{transform:oe(a)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function E(x,N){if(!n||typeof S!="number"||!b||s===void 0)return null;const T=S===s-1;if(S>=s&&N)return 0;if(T&&!N)return 1;if(!y&&!T)return null;const g=T?S+1:S-1,F=T?b[g]-b[g-1]:b[g+1]-b[g],M=x/Math.abs(F);return T?1-M:M}return{isLastSnapPoint:w,activeSnapPoint:u,shouldFade:y,getPercentageDragged:E,setActiveSnapPoint:d,activeSnapPointIndex:S,onRelease:k,onDrag:C,snapPointsOffset:b}}const Xl=()=>()=>{};function Ql(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:o}=mt(),s=p.useRef(null),l=h.useMemo(()=>document.body.style.backgroundColor,[]);function a(){return(window.innerWidth-dn)/window.innerWidth}p.useEffect(()=>{if(t&&n){s.current&&clearTimeout(s.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Gl(r&&!o?on(document.body,{background:"black"}):Xl,on(c,{transformOrigin:oe(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${te.DURATION}s`,transitionTimingFunction:`cubic-bezier(${te.EASE.join(",")})`}));const f=on(c,{borderRadius:`${Vr}px`,overflow:"hidden",...oe(e)?{transform:`scale(${a()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${a()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{f(),s.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},te.DURATION*1e3)}}},[t,n,l])}let st=null;function Jl({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:o,noBodyStyles:s}){const[l,a]=p.useState(()=>typeof window<"u"?window.location.href:""),c=p.useRef(0),f=p.useCallback(()=>{if(Wn()&&st===null&&e&&!s){st={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const v=m-window.innerHeight;v&&c.current>=m&&(document.body.style.top=`${-(c.current+v)}px`)}),300)}},[e]),u=p.useCallback(()=>{if(Wn()&&st!==null&&!s){const d=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,st),window.requestAnimationFrame(()=>{if(o&&l!==window.location.href){a(window.location.href);return}window.scrollTo(m,d)}),st=null}},[l]);return p.useEffect(()=>{function d(){c.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),p.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||u()}},[t,u]),p.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{u()},500)):u())},[e,r,l,t,n,f,u]),{restorePositionSetting:u}}function ec({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:o,snapPoints:s,shouldScaleBackground:l=!1,setBackgroundColorOnScale:a=!0,closeThreshold:c=ql,scrollLockTimeout:f=Vl,dismissible:u=!0,handleOnly:d=!1,fadeFromIndex:m=s&&s.length-1,activeSnapPoint:v,setActiveSnapPoint:w,fixed:S,modal:y=!0,onClose:b,nested:j,noBodyStyles:D=!1,direction:k="bottom",defaultOpen:C=!1,disablePreventScroll:E=!0,snapToSequentialPoint:x=!1,preventScrollRestoration:N=!1,repositionInputs:T=!0,onAnimationEnd:O,container:g,autoFocus:F=!1}){var M,G;const[q=!1,B]=Zr({defaultProp:C,prop:e,onChange:P=>{t?.(P),!P&&!j&&Yt(),setTimeout(()=>{O?.(P)},te.DURATION*1e3),P&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),P||(document.body.style.pointerEvents="auto")}}),[V,Z]=p.useState(!1),[U,X]=p.useState(!1),[_,J]=p.useState(!1),Q=p.useRef(null),fe=p.useRef(null),ve=p.useRef(null),xe=p.useRef(null),Pe=p.useRef(null),A=p.useRef(!1),ee=p.useRef(null),Se=p.useRef(0),Ce=p.useRef(!1),Ve=p.useRef(!C),pt=p.useRef(0),L=p.useRef(null),gt=p.useRef(((M=L.current)==null?void 0:M.getBoundingClientRect().height)||0),vt=p.useRef(((G=L.current)==null?void 0:G.getBoundingClientRect().width)||0),nt=p.useRef(0),$t=p.useCallback(P=>{s&&P===Oe.length-1&&(fe.current=new Date)},[]),{activeSnapPoint:Ht,activeSnapPointIndex:We,setActiveSnapPoint:bt,onRelease:wt,snapPointsOffset:Oe,onDrag:rt,shouldFade:yt,getPercentageDragged:Lt}=Zl({snapPoints:s,activeSnapPointProp:v,setActiveSnapPointProp:w,drawerRef:L,fadeFromIndex:m,overlayRef:Q,onSnapPointChange:$t,direction:k,container:g,snapToSequentialPoint:x});zl({isDisabled:!q||U||!y||_||!V||!T||!E});const{restorePositionSetting:Yt}=Jl({isOpen:q,modal:y,nested:j??!1,hasBeenOpened:V,preventScrollRestoration:N,noBodyStyles:D});function Ke(){return(window.innerWidth-dn)/window.innerWidth}function Ut(P){var R,z;!u&&!s||L.current&&!L.current.contains(P.target)||(gt.current=((R=L.current)==null?void 0:R.getBoundingClientRect().height)||0,vt.current=((z=L.current)==null?void 0:z.getBoundingClientRect().width)||0,X(!0),ve.current=new Date,Lr()&&window.addEventListener("touchend",()=>A.current=!1,{once:!0}),P.target.setPointerCapture(P.pointerId),Se.current=oe(k)?P.pageY:P.pageX)}function xt(P,R){var z;let $=P;const W=(z=window.getSelection())==null?void 0:z.toString(),ce=L.current?jt(L.current,k):null,ie=new Date;if($.tagName==="SELECT"||$.hasAttribute("data-vaul-no-drag")||$.closest("[data-vaul-no-drag]"))return!1;if(k==="right"||k==="left")return!0;if(fe.current&&ie.getTime()-fe.current.getTime()<500)return!1;if(ce!==null&&(k==="bottom"?ce>0:ce<0))return!0;if(W&&W.length>0)return!1;if(Pe.current&&ie.getTime()-Pe.current.getTime()<f&&ce===0||R)return Pe.current=ie,!1;for(;$;){if($.scrollHeight>$.clientHeight){if($.scrollTop!==0)return Pe.current=new Date,!1;if($.getAttribute("role")==="dialog")return!0}$=$.parentNode}return!0}function Gt(P){if(L.current&&U){const R=k==="bottom"||k==="right"?1:-1,z=(Se.current-(oe(k)?P.pageY:P.pageX))*R,$=z>0,W=s&&!u&&!$;if(W&&We===0)return;const ce=Math.abs(z),ie=document.querySelector("[data-vaul-drawer-wrapper]"),ke=k==="bottom"||k==="top"?gt.current:vt.current;let he=ce/ke;const be=Lt(ce,$);if(be!==null&&(he=be),W&&he>=1||!A.current&&!xt(P.target,$))return;if(L.current.classList.add(sn),A.current=!0,se(L.current,{transition:"none"}),se(Q.current,{transition:"none"}),s&&rt({draggedDistance:z}),$&&!s){const De=Ul(z),kt=Math.min(De*-1,0)*R;se(L.current,{transform:oe(k)?`translate3d(0, ${kt}px, 0)`:`translate3d(${kt}px, 0, 0)`});return}const Fe=1-he;if((yt||m&&We===m-1)&&(r?.(P,he),se(Q.current,{opacity:`${Fe}`,transition:"none"},!0)),ie&&Q.current&&l){const De=Math.min(Ke()+he*(1-Ke()),1),kt=8-he*8,Cn=Math.max(0,14-he*14);se(ie,{borderRadius:`${kt}px`,transform:oe(k)?`scale(${De}) translate3d(0, ${Cn}px, 0)`:`scale(${De}) translate3d(${Cn}px, 0, 0)`,transition:"none"},!0)}if(!s){const De=ce*R;se(L.current,{transform:oe(k)?`translate3d(0, ${De}px, 0)`:`translate3d(${De}px, 0, 0)`})}}}p.useEffect(()=>{window.requestAnimationFrame(()=>{Ve.current=!0})},[]),p.useEffect(()=>{var P;function R(){if(!L.current||!T)return;const z=document.activeElement;if(un(z)||Ce.current){var $;const W=(($=window.visualViewport)==null?void 0:$.height)||0,ce=window.innerHeight;let ie=ce-W;const ke=L.current.getBoundingClientRect().height||0,he=ke>ce*.8;nt.current||(nt.current=ke);const be=L.current.getBoundingClientRect().top;if(Math.abs(pt.current-ie)>60&&(Ce.current=!Ce.current),s&&s.length>0&&Oe&&We){const Fe=Oe[We]||0;ie+=Fe}if(pt.current=ie,ke>W||Ce.current){const Fe=L.current.getBoundingClientRect().height;let De=Fe;Fe>W&&(De=W-(he?be:dn)),S?L.current.style.height=`${Fe-Math.max(ie,0)}px`:L.current.style.height=`${Math.max(De,W-be)}px`}else Ol()||(L.current.style.height=`${nt.current}px`);s&&s.length>0&&!Ce.current?L.current.style.bottom="0px":L.current.style.bottom=`${Math.max(ie,0)}px`}}return(P=window.visualViewport)==null||P.addEventListener("resize",R),()=>{var z;return(z=window.visualViewport)==null?void 0:z.removeEventListener("resize",R)}},[We,s,Oe]);function Le(P){qt(),b?.(),P||B(!1),setTimeout(()=>{s&&bt(s[0])},te.DURATION*1e3)}function St(){if(!L.current)return;const P=document.querySelector("[data-vaul-drawer-wrapper]"),R=jt(L.current,k);se(L.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${te.DURATION}s cubic-bezier(${te.EASE.join(",")})`}),se(Q.current,{transition:`opacity ${te.DURATION}s cubic-bezier(${te.EASE.join(",")})`,opacity:"1"}),l&&R&&R>0&&q&&se(P,{borderRadius:`${Vr}px`,overflow:"hidden",...oe(k)?{transform:`scale(${Ke()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ke()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${te.DURATION}s`,transitionTimingFunction:`cubic-bezier(${te.EASE.join(",")})`},!0)}function qt(){!U||!L.current||(L.current.classList.remove(sn),A.current=!1,X(!1),xe.current=new Date)}function Vt(P){if(!U||!L.current)return;L.current.classList.remove(sn),A.current=!1,X(!1),xe.current=new Date;const R=jt(L.current,k);if(!P||!xt(P.target,!1)||!R||Number.isNaN(R)||ve.current===null)return;const z=xe.current.getTime()-ve.current.getTime(),$=Se.current-(oe(k)?P.pageY:P.pageX),W=Math.abs($)/z;if(W>.05&&(J(!0),setTimeout(()=>{J(!1)},200)),s){wt({draggedDistance:$*(k==="bottom"||k==="right"?1:-1),closeDrawer:Le,velocity:W,dismissible:u}),o?.(P,!0);return}if(k==="bottom"||k==="right"?$>0:$<0){St(),o?.(P,!0);return}if(W>qr){Le(),o?.(P,!1);return}var ce;const ie=Math.min((ce=L.current.getBoundingClientRect().height)!=null?ce:0,window.innerHeight);var ke;const he=Math.min((ke=L.current.getBoundingClientRect().width)!=null?ke:0,window.innerWidth),be=k==="left"||k==="right";if(Math.abs(R)>=(be?he:ie)*c){Le(),o?.(P,!1);return}o?.(P,!0),St()}p.useEffect(()=>(q&&(se(document.documentElement,{scrollBehavior:"auto"}),fe.current=new Date),()=>{Yl(document.documentElement,"scrollBehavior")}),[q]);function Ct(P){const R=P?(window.innerWidth-Ye)/window.innerWidth:1,z=P?-Ye:0;ee.current&&window.clearTimeout(ee.current),se(L.current,{transition:`transform ${te.DURATION}s cubic-bezier(${te.EASE.join(",")})`,transform:oe(k)?`scale(${R}) translate3d(0, ${z}px, 0)`:`scale(${R}) translate3d(${z}px, 0, 0)`}),!P&&L.current&&(ee.current=setTimeout(()=>{const $=jt(L.current,k);se(L.current,{transition:"none",transform:oe(k)?`translate3d(0, ${$}px, 0)`:`translate3d(${$}px, 0, 0)`})},500))}function Kt(P,R){if(R<0)return;const z=(window.innerWidth-Ye)/window.innerWidth,$=z+R*(1-z),W=-Ye+R*Ye;se(L.current,{transform:oe(k)?`scale(${$}) translate3d(0, ${W}px, 0)`:`scale(${$}) translate3d(${W}px, 0, 0)`,transition:"none"})}function Y(P,R){const z=oe(k)?window.innerHeight:window.innerWidth,$=R?(z-Ye)/z:1,W=R?-Ye:0;R&&se(L.current,{transition:`transform ${te.DURATION}s cubic-bezier(${te.EASE.join(",")})`,transform:oe(k)?`scale(${$}) translate3d(0, ${W}px, 0)`:`scale(${$}) translate3d(${W}px, 0, 0)`})}return p.useEffect(()=>{y||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[y]),p.createElement(Yn,{defaultOpen:C,onOpenChange:P=>{!u&&!P||(P?Z(!0):Le(!0),B(P))},open:q},p.createElement(Hr.Provider,{value:{activeSnapPoint:Ht,snapPoints:s,setActiveSnapPoint:bt,drawerRef:L,overlayRef:Q,onOpenChange:t,onPress:Ut,onRelease:Vt,onDrag:Gt,dismissible:u,shouldAnimate:Ve,handleOnly:d,isOpen:q,isDragging:U,shouldFade:yt,closeDrawer:Le,onNestedDrag:Kt,onNestedOpenChange:Ct,onNestedRelease:Y,keyboardIsOpen:Ce,modal:y,snapPointsOffset:Oe,activeSnapPointIndex:We,direction:k,shouldScaleBackground:l,setBackgroundColorOnScale:a,noBodyStyles:D,container:g,autoFocus:F}},n))}const Xr=p.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:o,shouldFade:s,isOpen:l,modal:a,shouldAnimate:c}=mt(),f=Ur(t,n),u=r&&r.length>0;if(!a)return null;const d=p.useCallback(m=>o(m),[o]);return p.createElement(qn,{onMouseUp:d,ref:f,"data-vaul-overlay":"","data-vaul-snap-points":l&&u?"true":"false","data-vaul-snap-points-overlay":l&&s?"true":"false","data-vaul-animate":c?.current?"true":"false",...e})});Xr.displayName="Drawer.Overlay";const Qr=p.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},o){const{drawerRef:s,onPress:l,onRelease:a,onDrag:c,keyboardIsOpen:f,snapPointsOffset:u,activeSnapPointIndex:d,modal:m,isOpen:v,direction:w,snapPoints:S,container:y,handleOnly:b,shouldAnimate:j,autoFocus:D}=mt(),[k,C]=p.useState(!1),E=Ur(o,s),x=p.useRef(null),N=p.useRef(null),T=p.useRef(!1),O=S&&S.length>0;Ql();const g=(M,G,q=0)=>{if(T.current)return!0;const B=Math.abs(M.y),V=Math.abs(M.x),Z=V>B,U=["bottom","right"].includes(G)?1:-1;if(G==="left"||G==="right"){if(!(M.x*U<0)&&V>=0&&V<=q)return Z}else if(!(M.y*U<0)&&B>=0&&B<=q)return!Z;return T.current=!0,!0};p.useEffect(()=>{O&&window.requestAnimationFrame(()=>{C(!0)})},[]);function F(M){x.current=null,T.current=!1,a(M)}return p.createElement(Un,{"data-vaul-drawer-direction":w,"data-vaul-drawer":"","data-vaul-delayed-snap-points":k?"true":"false","data-vaul-snap-points":v&&O?"true":"false","data-vaul-custom-container":y?"true":"false","data-vaul-animate":j?.current?"true":"false",...r,ref:E,style:u&&u.length>0?{"--snap-point-height":`${u[d??0]}px`,...t}:t,onPointerDown:M=>{b||(r.onPointerDown==null||r.onPointerDown.call(r,M),x.current={x:M.pageX,y:M.pageY},l(M))},onOpenAutoFocus:M=>{n?.(M),D||M.preventDefault()},onPointerDownOutside:M=>{if(e?.(M),!m||M.defaultPrevented){M.preventDefault();return}f.current&&(f.current=!1)},onFocusOutside:M=>{if(!m){M.preventDefault();return}},onPointerMove:M=>{if(N.current=M,b||(r.onPointerMove==null||r.onPointerMove.call(r,M),!x.current))return;const G=M.pageY-x.current.y,q=M.pageX-x.current.x,B=M.pointerType==="touch"?10:2;g({x:q,y:G},w,B)?c(M):(Math.abs(q)>B||Math.abs(G)>B)&&(x.current=null)},onPointerUp:M=>{r.onPointerUp==null||r.onPointerUp.call(r,M),x.current=null,T.current=!1,a(M)},onPointerOut:M=>{r.onPointerOut==null||r.onPointerOut.call(r,M),F(N.current)},onContextMenu:M=>{r.onContextMenu==null||r.onContextMenu.call(r,M),N.current&&F(N.current)}})});Qr.displayName="Drawer.Content";const tc=250,nc=120,rc=p.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:o,isDragging:s,snapPoints:l,activeSnapPoint:a,setActiveSnapPoint:c,dismissible:f,handleOnly:u,isOpen:d,onPress:m,onDrag:v}=mt(),w=p.useRef(null),S=p.useRef(!1);function y(){if(S.current){D();return}window.setTimeout(()=>{b()},nc)}function b(){if(s||e||S.current){D();return}if(D(),!l||l.length===0){f||o();return}if(a===l[l.length-1]&&f){o();return}const C=l.findIndex(x=>x===a);if(C===-1)return;const E=l[C+1];c(E)}function j(){w.current=window.setTimeout(()=>{S.current=!0},tc)}function D(){w.current&&window.clearTimeout(w.current),S.current=!1}return p.createElement("div",{onClick:y,onPointerCancel:D,onPointerDown:k=>{u&&m(k),j()},onPointerMove:k=>{u&&v(k)},ref:r,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},p.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});rc.displayName="Drawer.Handle";function oc(e){const t=mt(),{container:n=t.container,...r}=e;return p.createElement(Gn,{container:n,...r})}const tt={Root:ec,Content:Qr,Overlay:Xr,Portal:oc,Title:Ln,Description:Vo};function sc({...e}){return i.jsx(tt.Root,{"data-slot":"drawer",...e})}function ac({...e}){return i.jsx(tt.Portal,{"data-slot":"drawer-portal",...e})}function ic({className:e,...t}){return i.jsx(tt.Overlay,{"data-slot":"drawer-overlay",className:H("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function lc({className:e,children:t,...n}){return i.jsxs(ac,{"data-slot":"drawer-portal",children:[i.jsx(ic,{}),i.jsxs(tt.Content,{"data-slot":"drawer-content",className:H("group/drawer-content bg-background fixed z-50 flex h-full flex-col overflow-y-auto","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...n,children:[i.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]})]})}function cc({className:e,...t}){return i.jsx("div",{"data-slot":"drawer-header",className:H("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e),...t})}function uc({className:e,...t}){return i.jsx(tt.Title,{"data-slot":"drawer-title",className:H("text-foreground font-semibold",e),...t})}function dc({className:e,...t}){return i.jsx(tt.Description,{"data-slot":"drawer-description",className:H("text-muted-foreground text-sm",e),...t})}function fc(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var wn="ScrollArea",[Jr,eu]=ut(wn),[hc,ge]=Jr(wn),eo=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...l}=e,[a,c]=h.useState(null),[f,u]=h.useState(null),[d,m]=h.useState(null),[v,w]=h.useState(null),[S,y]=h.useState(null),[b,j]=h.useState(0),[D,k]=h.useState(0),[C,E]=h.useState(!1),[x,N]=h.useState(!1),T=Ae(t,g=>c(g)),O=Ot(o);return i.jsx(hc,{scope:n,type:r,dir:O,scrollHideDelay:s,scrollArea:a,viewport:f,onViewportChange:u,content:d,onContentChange:m,scrollbarX:v,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:S,onScrollbarYChange:y,scrollbarYEnabled:x,onScrollbarYEnabledChange:N,onCornerWidthChange:j,onCornerHeightChange:k,children:i.jsx(le.div,{dir:O,...l,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":D+"px",...e.style}})})});eo.displayName=wn;var to="ScrollAreaViewport",no=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:o,...s}=e,l=ge(to,n),a=h.useRef(null),c=Ae(t,a,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(le.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});no.displayName=to;var Ee="ScrollAreaScrollbar",ro=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ge(Ee,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:l}=o,a=e.orientation==="horizontal";return h.useEffect(()=>(a?s(!0):l(!0),()=>{a?s(!1):l(!1)}),[a,s,l]),o.type==="hover"?i.jsx(mc,{...r,ref:t,forceMount:n}):o.type==="scroll"?i.jsx(pc,{...r,ref:t,forceMount:n}):o.type==="auto"?i.jsx(oo,{...r,ref:t,forceMount:n}):o.type==="always"?i.jsx(yn,{...r,ref:t}):null});ro.displayName=Ee;var mc=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ge(Ee,e.__scopeScrollArea),[s,l]=h.useState(!1);return h.useEffect(()=>{const a=o.scrollArea;let c=0;if(a){const f=()=>{window.clearTimeout(c),l(!0)},u=()=>{c=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(et,{present:n||s,children:i.jsx(oo,{"data-state":s?"visible":"hidden",...r,ref:t})})}),pc=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=ge(Ee,e.__scopeScrollArea),s=e.orientation==="horizontal",l=zt(()=>c("SCROLL_END"),100),[a,c]=fc("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,o.scrollHideDelay,c]),h.useEffect(()=>{const f=o.viewport,u=s?"scrollLeft":"scrollTop";if(f){let d=f[u];const m=()=>{const v=f[u];d!==v&&(c("SCROLL"),l()),d=v};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,s,c,l]),i.jsx(et,{present:n||a!=="hidden",children:i.jsx(yn,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ae(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ae(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oo=h.forwardRef((e,t)=>{const n=ge(Ee,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,l]=h.useState(!1),a=e.orientation==="horizontal",c=zt(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;l(a?f:u)}},10);return Qe(n.viewport,c),Qe(n.content,c),i.jsx(et,{present:r||s,children:i.jsx(yn,{"data-state":s?"visible":"hidden",...o,ref:t})})}),yn=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=ge(Ee,e.__scopeScrollArea),s=h.useRef(null),l=h.useRef(0),[a,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=co(a.viewport,a.content),u={...r,sizes:a,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function d(m,v){return xc(m,l.current,a,v)}return n==="horizontal"?i.jsx(gc,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const m=o.viewport.scrollLeft,v=$n(m,a,o.dir);s.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=d(m,o.dir))}}):n==="vertical"?i.jsx(vc,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const m=o.viewport.scrollTop,v=$n(m,a);s.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=d(m))}}):null}),gc=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=ge(Ee,e.__scopeScrollArea),[l,a]=h.useState(),c=h.useRef(null),f=Ae(t,c,s.onScrollbarXChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),i.jsx(ao,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ft(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const m=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),fo(m,d)&&u.preventDefault()}},onResize:()=>{c.current&&s.viewport&&l&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Pt(l.paddingLeft),paddingEnd:Pt(l.paddingRight)}})}})}),vc=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=ge(Ee,e.__scopeScrollArea),[l,a]=h.useState(),c=h.useRef(null),f=Ae(t,c,s.onScrollbarYChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),i.jsx(ao,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ft(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const m=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),fo(m,d)&&u.preventDefault()}},onResize:()=>{c.current&&s.viewport&&l&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Pt(l.paddingTop),paddingEnd:Pt(l.paddingBottom)}})}})}),[bc,so]=Jr(Ee),ao=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:l,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:u,onResize:d,...m}=e,v=ge(Ee,n),[w,S]=h.useState(null),y=Ae(t,T=>S(T)),b=h.useRef(null),j=h.useRef(""),D=v.viewport,k=r.content-r.viewport,C=ze(u),E=ze(c),x=zt(d,10);function N(T){if(b.current){const O=T.clientX-b.current.left,g=T.clientY-b.current.top;f({x:O,y:g})}}return h.useEffect(()=>{const T=O=>{const g=O.target;w?.contains(g)&&C(O,k)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[D,w,k,C]),h.useEffect(E,[r,E]),Qe(w,x),Qe(v.content,x),i.jsx(bc,{scope:n,scrollbar:w,hasThumb:o,onThumbChange:ze(s),onThumbPointerUp:ze(l),onThumbPositionChange:E,onThumbPointerDown:ze(a),children:i.jsx(le.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:ae(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),b.current=w.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),N(T))}),onPointerMove:ae(e.onPointerMove,N),onPointerUp:ae(e.onPointerUp,T=>{const O=T.target;O.hasPointerCapture(T.pointerId)&&O.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=j.current,v.viewport&&(v.viewport.style.scrollBehavior=""),b.current=null})})})}),Et="ScrollAreaThumb",io=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=so(Et,e.__scopeScrollArea);return i.jsx(et,{present:n||o.hasThumb,children:i.jsx(wc,{ref:t,...r})})}),wc=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=ge(Et,n),l=so(Et,n),{onThumbPositionChange:a}=l,c=Ae(t,d=>l.onThumbChange(d)),f=h.useRef(void 0),u=zt(()=>{f.current&&(f.current(),f.current=void 0)},100);return h.useEffect(()=>{const d=s.viewport;if(d){const m=()=>{if(u(),!f.current){const v=Sc(d,a);f.current=v,a()}};return a(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,u,a]),i.jsx(le.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ae(e.onPointerDownCapture,d=>{const v=d.target.getBoundingClientRect(),w=d.clientX-v.left,S=d.clientY-v.top;l.onThumbPointerDown({x:w,y:S})}),onPointerUp:ae(e.onPointerUp,l.onThumbPointerUp)})});io.displayName=Et;var xn="ScrollAreaCorner",lo=h.forwardRef((e,t)=>{const n=ge(xn,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(yc,{...e,ref:t}):null});lo.displayName=xn;var yc=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=ge(xn,n),[s,l]=h.useState(0),[a,c]=h.useState(0),f=!!(s&&a);return Qe(o.scrollbarX,()=>{const u=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(u),c(u)}),Qe(o.scrollbarY,()=>{const u=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(u),l(u)}),f?i.jsx(le.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Pt(e){return e?parseInt(e,10):0}function co(e,t){const n=e/t;return isNaN(n)?0:n}function Ft(e){const t=co(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function xc(e,t,n,r="ltr"){const o=Ft(n),s=o/2,l=t||s,a=o-l,c=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return uo([c,f],d)(e)}function $n(e,t,n="ltr"){const r=Ft(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,l=t.content-t.viewport,a=s-r,c=n==="ltr"?[0,l]:[l*-1,0],f=ts(e,c);return uo([0,l],[0,a])(f)}function uo(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function fo(e,t){return e>0&&e<t}var Sc=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const s={left:e.scrollLeft,top:e.scrollTop},l=n.left!==s.left,a=n.top!==s.top;(l||a)&&t(),n=s,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function zt(e,t){const n=ze(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Qe(e,t){const n=ze(t);Ko(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}var Cc=eo,kc=no,Dc=lo;function Nc({className:e,children:t,...n}){return i.jsxs(Cc,{"data-slot":"scroll-area",className:H("relative",e),...n,children:[i.jsx(kc,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),i.jsx(jc,{}),i.jsx(Dc,{})]})}function jc({className:e,orientation:t="vertical",...n}){return i.jsx(ro,{"data-slot":"scroll-area-scrollbar",orientation:t,className:H("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:i.jsx(io,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var Bt="Checkbox",[Tc,tu]=ut(Bt),[Mc,Sn]=Tc(Bt);function Ec(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:s,form:l,name:a,onCheckedChange:c,required:f,value:u="on",internal_do_not_use_render:d}=e,[m,v]=Je({prop:n,defaultProp:o??!1,onChange:c,caller:Bt}),[w,S]=h.useState(null),[y,b]=h.useState(null),j=h.useRef(!1),D=w?!!l||!!w.closest("form"):!0,k={checked:m,disabled:s,setChecked:v,control:w,setControl:S,name:a,form:l,value:u,hasConsumerStoppedPropagationRef:j,required:f,defaultChecked:$e(o)?!1:o,isFormControl:D,bubbleInput:y,setBubbleInput:b};return i.jsx(Mc,{scope:t,...k,children:Pc(d)?d(k):r})}var ho="CheckboxTrigger",mo=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:s,value:l,disabled:a,checked:c,required:f,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:m,isFormControl:v,bubbleInput:w}=Sn(ho,e),S=Ae(o,u),y=h.useRef(c);return h.useEffect(()=>{const b=s?.form;if(b){const j=()=>d(y.current);return b.addEventListener("reset",j),()=>b.removeEventListener("reset",j)}},[s,d]),i.jsx(le.button,{type:"button",role:"checkbox","aria-checked":$e(c)?"mixed":c,"aria-required":f,"data-state":yo(c),"data-disabled":a?"":void 0,disabled:a,value:l,...r,ref:S,onKeyDown:ae(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ae(n,b=>{d(j=>$e(j)?!0:!j),w&&v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});mo.displayName=ho;var po=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:s,required:l,disabled:a,value:c,onCheckedChange:f,form:u,...d}=e;return i.jsx(Ec,{__scopeCheckbox:n,checked:o,defaultChecked:s,disabled:a,required:l,onCheckedChange:f,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>i.jsxs(i.Fragment,{children:[i.jsx(mo,{...d,ref:t,__scopeCheckbox:n}),m&&i.jsx(wo,{__scopeCheckbox:n})]})})});po.displayName=Bt;var go="CheckboxIndicator",vo=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,s=Sn(go,n);return i.jsx(et,{present:r||$e(s.checked)||s.checked===!0,children:i.jsx(le.span,{"data-state":yo(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});vo.displayName=go;var bo="CheckboxBubbleInput",wo=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:s,defaultChecked:l,required:a,disabled:c,name:f,value:u,form:d,bubbleInput:m,setBubbleInput:v}=Sn(bo,e),w=Ae(n,v),S=ns(s),y=rs(r);h.useEffect(()=>{const j=m;if(!j)return;const D=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(D,"checked").set,E=!o.current;if(S!==s&&C){const x=new Event("click",{bubbles:E});j.indeterminate=$e(s),C.call(j,$e(s)?!1:s),j.dispatchEvent(x)}},[m,S,s,o]);const b=h.useRef($e(s)?!1:s);return i.jsx(le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??b.current,required:a,disabled:c,name:f,value:u,form:d,...t,tabIndex:-1,ref:w,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});wo.displayName=bo;function Pc(e){return typeof e=="function"}function $e(e){return e==="indeterminate"}function yo(e){return $e(e)?"indeterminate":e?"checked":"unchecked"}function Oc({className:e,...t}){return i.jsx(po,{"data-slot":"checkbox",className:H("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(vo,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:i.jsx(os,{className:"size-3.5"})})})}function Rc(e){return Wo({query:{enabled:e,staleTime:1e3*60*30}})}function _c(e,t,n){return n?e.includes(t)||e.length>=5?e:[...e,t]:e.filter(r=>r!==t)}function Ac({open:e,onOpenChange:t,post:n,baseContent:r,onApplyHook:o}){const l=Rc(e).data?.frameworks??[],[a,c]=h.useState([]),[f,u]=h.useState(""),[d,m]=h.useState(3),[v,w]=h.useState(null);h.useEffect(()=>{if(e&&l.length&&a.length===0){const g=l.slice(0,Math.min(3,l.length)).map(F=>F.id);c(g)}},[e,l,a.length]),h.useEffect(()=>{e||(w(null),u(""))},[e]);const S=Fo({mutationFn:g=>{if(!n)throw new Error("No post selected");return zo(n.id,g)},onError:g=>{const F="error"in g?g.error||"Failed to generate hooks":g.message;K.error(F)}}),y=S.data?.hooks??[];h.useEffect(()=>{if(y.length&&!v){const g=y[0];w(S.data?.recommendedId??g?.id??null)}},[y,v,S.data?.recommendedId]);const b=h.useMemo(()=>y.find(g=>g.id===v)??null,[y,v]),j=h.useMemo(()=>b?$r(r,b.hook):r,[r,b]),D=h.useMemo(()=>Tl(r),[r]),k=!n||a.length===0||S.isPending,C=()=>{if(!n)return;const g={};a.length&&(g.frameworkIds=a),f.trim().length>0&&(g.customFocus=f.trim()),g.count=d,S.mutate(g)},E=g=>{o(g.hook),K.success("Hook applied to draft"),t(!1)},x=()=>{c(l.slice(0,Math.min(3,l.length)).map(g=>g.id))},N=S.data?.recommendedId??null,T=S.data?.summary??null,O=({framework:g})=>{const F=a.includes(g.id);return i.jsxs("div",{className:"flex cursor-pointer flex-col gap-1 rounded-lg border border-zinc-200 bg-white p-3 text-left hover:border-zinc-300",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oc,{checked:F,onCheckedChange:M=>c(G=>_c(G,g.id,M===!0||M==="indeterminate")),id:`fw-${g.id}`}),i.jsx(Be,{htmlFor:`fw-${g.id}`,children:g.label})]}),i.jsx("p",{className:"text-xs leading-relaxed text-zinc-600",children:g.description}),g.example&&i.jsxs("p",{className:"text-xs font-medium text-zinc-500",children:["Example: ",g.example]})]})};return i.jsx(sc,{open:e,onOpenChange:t,direction:"right",children:i.jsxs(lc,{className:"sm:max-w-4xl",children:[i.jsxs(cc,{className:"border-b",children:[i.jsx(uc,{children:"Hook workbench"}),i.jsx(dc,{children:"Generate hook variants grounded in your transcript insight, compare scores, and drop the winner into the draft."})]}),i.jsx("div",{className:"flex flex-col gap-6 px-4 pb-6 pt-4",children:n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-4 lg:grid-cols-[320px_1fr]",children:[i.jsx("div",{className:"space-y-4",children:i.jsxs(Ue,{className:"gap-4",children:[i.jsxs(Ge,{children:[i.jsx(at,{className:"text-base",children:"Frameworks"}),i.jsx(Dt,{children:"Select up to five frameworks to explore."})]}),i.jsxs(ct,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-zinc-500",children:[i.jsxs("span",{children:[a.length," selected"]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:x,disabled:!l.length,children:"Reset"})]}),i.jsx(Nc,{className:"h-64 rounded-lg border bg-zinc-50",children:i.jsxs("div",{className:"space-y-3 p-3",children:[l.length===0&&i.jsx("p",{className:"text-xs text-zinc-500",children:"Loading frameworks…"}),l.map(g=>i.jsx(O,{framework:g},g.id))]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{className:"text-xs uppercase tracking-wide text-zinc-500",children:"Variants to generate"}),i.jsx(Dr,{type:"single",value:String(d),onValueChange:g=>{g&&m(Number(g))},className:"flex gap-2",children:[3,4,5].map(g=>i.jsx(it,{value:String(g),className:"flex-1",children:g},g))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{className:"text-xs uppercase tracking-wide text-zinc-500",children:"Focus (optional)"}),i.jsx(Rt,{value:f,onChange:g=>u(g.target.value),placeholder:"e.g. Highlight the measurable client outcome from the leadership sprint",className:"min-h-24 resize-none text-sm",maxLength:240}),i.jsxs("div",{className:"text-right text-xs text-zinc-400",children:[f.length,"/240"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{className:"text-xs uppercase tracking-wide text-zinc-500",children:"Current opening"}),i.jsx("p",{className:"rounded-md border bg-white p-3 text-sm leading-relaxed text-zinc-700",children:D||"Draft does not have an opening line yet."})]}),i.jsxs(re,{onClick:C,disabled:k,className:"w-full",children:[S.isPending&&i.jsx(Os,{className:"mr-2 size-4 animate-spin"}),"Generate hooks"]})]})]})}),i.jsxs("div",{className:"space-y-4",children:[S.isPending&&i.jsx("div",{className:"rounded-lg border border-dashed p-6 text-center text-sm text-zinc-500",children:"Thinking through fresh hooks…"}),!S.isPending&&y.length===0&&i.jsx("div",{className:"rounded-lg border border-dashed p-6 text-center text-sm text-zinc-500",children:"Choose frameworks and generate to see ranked hook options."}),T&&i.jsx(Ue,{children:i.jsxs(Ge,{children:[i.jsx(at,{className:"text-base",children:"AI takeaways"}),i.jsx(Dt,{children:T})]})}),y.map(g=>{const F=N===g.id,M=v===g.id;return i.jsxs(Ue,{children:[i.jsxs(Ge,{className:"gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(Nn,{variant:"secondary",children:g.label}),F&&i.jsx(Nn,{variant:"outline",children:"Recommended"})]}),i.jsxs("div",{className:"text-xs text-zinc-500",children:["Curiosity ",g.curiosity," · Value ",g.valueAlignment]})]}),i.jsx("p",{className:"text-base font-medium leading-snug text-zinc-900",children:g.hook})]}),i.jsxs(ct,{className:"space-y-3",children:[i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-zinc-500",children:"Curiosity"}),i.jsx(Dn,{value:g.curiosity,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-zinc-500",children:"Value alignment"}),i.jsx(Dn,{value:g.valueAlignment,className:"h-2"})]})]}),i.jsx("p",{className:"text-sm leading-relaxed text-zinc-600",children:g.rationale})]}),i.jsxs(cs,{className:"justify-between gap-3",children:[i.jsx(re,{variant:M?"default":"outline",size:"sm",onClick:()=>w(g.id),children:M?"Previewing":"Preview"}),i.jsx(re,{variant:"secondary",size:"sm",onClick:()=>E(g),children:"Use hook"})]})]},g.id)})]})]}),i.jsxs(Ue,{children:[i.jsxs(Ge,{children:[i.jsx(at,{className:"text-base",children:"A/B preview"}),i.jsx(Dt,{children:"Compare how the selected hook rewrites the opening before committing it to the post."})]}),i.jsx(ct,{children:i.jsx("div",{className:"rounded-lg border bg-white p-4 text-sm leading-relaxed text-zinc-700",children:b?j:"Select a hook to preview the updated draft."})})]})]}):i.jsx(Ue,{children:i.jsxs(Ge,{children:[i.jsx(at,{children:"No post selected"}),i.jsx(Dt,{children:"Choose a post from the queue to explore hook options."})]})})})]})})}function Ic({post:e,linkedInConnected:t,onSave:n,onSetStatus:r,onPublish:o,onSchedule:s,onUnschedule:l,onAutoSchedule:a,isScheduling:c,isUnscheduling:f,isAutoScheduling:u,onRegenerate:d,isRegenerating:m}){const v=!!e,w=e??null,[S,y]=h.useState(w?.content??""),[b,j]=h.useState(w?.hashtags??[]),[D,k]=h.useState(w?.content??""),[C,E]=h.useState(w?.hashtags??[]),[x,N]=h.useState(!1),[T,O]=h.useState(!1);h.useEffect(()=>{w&&(y(w.content),j(w.hashtags),k(w.content),E(w.hashtags))},[w]);const g=S!==D||JSON.stringify(b)!==JSON.stringify(C),F=v&&w?.status==="approved"&&t,M=v?{scheduledAt:w?.scheduledAt??null,status:w?.scheduleStatus??null,error:w?.scheduleError??null,attemptedAt:w?.scheduleAttemptedAt??null,postStatus:w?.status??"pending",publishedAt:w?.publishedAt??null}:{scheduledAt:null,status:null,error:null,attemptedAt:null,postStatus:"pending",publishedAt:null},G=M.status==="publishing",q=g||x,B=F?q?"Save changes before scheduling":void 0:v&&w?.status==="published"?"Post already published":"Approve the post and connect LinkedIn before scheduling",V=!F||q||c||f||G,Z=async()=>{if(!(!g||x)){N(!0);try{const U=n(S.slice(0,3e3),b);Nl(U)&&await U,k(S),E(b)}finally{N(!1)}}};return i.jsxs(Ue,{className:"h-full overflow-hidden flex flex-col",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"font-medium text-zinc-900",children:v?"":"Select a post to edit"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[v&&i.jsx("div",{className:"hidden sm:flex",children:i.jsxs(Dr,{type:"single",value:w?.status??"pending",onValueChange:U=>Dl(U)&&r(U),children:[i.jsx(it,{value:"pending",children:"Pending"}),i.jsx(it,{value:"approved",children:"Approved"}),i.jsx(it,{value:"rejected",children:"Rejected"}),i.jsx(it,{value:"published",disabled:!0,children:"Published"})]})}),i.jsx(re,{size:"sm",variant:"outline",onClick:()=>O(!0),disabled:!v,children:"Hook Workbench"}),i.jsx(re,{size:"sm",variant:"secondary",onClick:d,disabled:x||!v||m,children:"Regenerate"})]})]})}),i.jsxs(ct,{className:"flex-1 flex flex-col overflow-hidden space-y-6",children:[i.jsxs("div",{className:"flex-1 min-h-0",children:[i.jsx(Rt,{className:"h-full w-full bg-white border-zinc-200 focus-visible:ring-zinc-300 overflow-auto resize-none",value:S,onChange:U=>y(U.target.value)}),i.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-zinc-600",children:[i.jsxs("span",{className:"tabular-nums text-zinc-500",children:[S.length,"/3000"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!g&&!x&&v&&i.jsx("span",{className:"text-zinc-500",children:"Saved"}),i.jsx(re,{size:"sm",variant:"secondary",disabled:!v||!g||x,onClick:Z,children:x?"Saving…":"Save"})]})]})]}),i.jsx(Ba,{value:b,onChange:j}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[i.jsx(Ml,{disabled:!v||!F||q,triggerTitle:B,scheduleInfo:M,onSchedule:s,onUnschedule:l,isScheduling:c,isUnscheduling:f}),i.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[i.jsx(re,{size:"sm",variant:"secondary",disabled:!v||!F||q||u,title:B,onClick:()=>a(),children:u?"Auto-scheduling…":"Auto-schedule"}),i.jsx(re,{size:"sm",variant:"default",disabled:!v||V,title:g?"Please save changes before publishing":V&&(c||f)?"Please wait for scheduling to complete":V&&G?"Publishing in progress":void 0,onClick:o,children:"Publish Now"})]})]}),v&&i.jsx(El,{info:M})]}),i.jsx(Ac,{open:T,onOpenChange:O,post:e,baseContent:S,onApplyHook:U=>y(X=>$r(X,U))})]})}function Wc({open:e,onOpenChange:t,onSubmit:n,disabled:r}){const[o,s]=h.useState(""),[l,a]=h.useState(void 0);return i.jsx(Yn,{open:e,onOpenChange:t,children:i.jsxs(Gn,{children:[i.jsx(qn,{className:"fixed inset-0 bg-black/20"}),i.jsxs(Un,{className:"fixed left-1/2 top-1/2 w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-md border bg-white p-4 shadow",children:[i.jsx(Ln,{className:"text-lg font-medium mb-2",children:"Regenerate with custom instructions"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"form-field",children:[i.jsx(Be,{htmlFor:"regen-posttype",children:"Post type (optional)"}),i.jsxs(ss,{value:l||"",onValueChange:c=>a(c),children:[i.jsx(as,{id:"regen-posttype",children:i.jsx(is,{placeholder:"Select a preset"})}),i.jsxs(ls,{children:[i.jsx(Ze,{value:"story",children:"Story"}),i.jsx(Ze,{value:"how_to",children:"How-to"}),i.jsx(Ze,{value:"myth_bust",children:"Myth-bust"}),i.jsx(Ze,{value:"listicle",children:"Listicle"}),i.jsx(Ze,{value:"case_study",children:"Case study"}),i.jsx(Ze,{value:"announcement",children:"Announcement"})]})]})]}),i.jsxs("div",{className:"form-field",children:[i.jsx(Be,{htmlFor:"regen-custom",children:"Custom instructions (optional)"}),i.jsx(Rt,{id:"regen-custom",className:"h-40",value:o,onChange:c=>s(c.target.value),placeholder:"Add specific guidance for this regenerate run…"}),i.jsx("div",{className:"mt-1 text-xs text-zinc-500",children:"You can leave fields blank to reuse your default style."})]})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[i.jsx(Zo,{asChild:!0,children:i.jsx(re,{variant:"outline",children:"Cancel"})}),i.jsx(re,{disabled:r,onClick:()=>{n({customInstructions:o.trim()?o:void 0,postType:l}),t(!1)},children:"Regenerate"})]})]})]})})}function Fc({projectId:e,postsQuery:t,linkedInConnected:n,onSetStatus:r,onSavePost:o,onPublish:s,onBulk:l,onSchedule:a,onUnschedule:c,onAutoSchedule:f,onProjectAutoSchedule:u,projectAutoSchedulePending:d,schedulePendingId:m,unschedulePendingId:v,autoschedulePendingId:w,onAllReviewed:S}){const[y,b]=h.useState([]),j=ra(e),[D,k]=h.useState(new Set),[C,E]=h.useState(null),[x,N]=h.useState(!1),[T,O]=h.useState(null),g=t.data?.items??[];if(h.useEffect(()=>{g.length>0&&g.every(_=>_.status!=="pending")&&S()},[g,S]),h.useEffect(()=>{if(C===null&&g.length>0){const _=g[0];_&&E(_.id)}},[g,C]),t.isLoading)return i.jsxs("div",{className:"space-y-3",children:[i.jsx(ln,{className:"h-28 w-full"}),i.jsx(ln,{className:"h-28 w-full"})]});if(g.length===0)return i.jsx("div",{className:"text-sm text-zinc-600",children:"No posts yet."});const F=_=>b(J=>J.includes(_)?J.filter(Q=>Q!==_):[...J,_]),M=g.map(_=>_.id),G=y.length>0&&y.length===g.length,q=y.length>0&&y.length<g.length,B=y.length>0,V=_=>{O(_),N(!0)},Z=({customInstructions:_,postType:J})=>{const Q=T||[];Q.length&&(k(fe=>new Set([...Array.from(fe),...Q])),j.mutate({ids:Q,customInstructions:_,postType:J},{onSettled:()=>k(fe=>{const ve=new Set(fe);for(const xe of Q)ve.delete(xe);return ve})}))},U=async()=>{try{const{url:_}=await Bo();window.location.href=_}catch(_){K.error(kl(_,"Failed to start LinkedIn OAuth"))}},X=j.isPending||D.size>0;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-4",children:[!n&&i.jsx("div",{className:"rounded-md border bg-white p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm text-zinc-700",children:"Connect LinkedIn to enable one-click publishing."}),i.jsx(re,{size:"sm",onClick:U,children:"Connect LinkedIn"})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-700",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-zinc-300",checked:G,ref:_=>{_&&(_.indeterminate=q)},onChange:_=>{_.target.checked?b(M):b([])}}),i.jsx("span",{children:B?`${y.length} selected`:`${g.length} posts`})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(re,{size:"sm",variant:"default",onClick:()=>l(B?y:M,"approved"),disabled:g.length===0||B&&y.length===0,children:B?"Approve Selected":"Approve All"}),i.jsx(re,{size:"sm",variant:"outline",onClick:()=>l(B?y:M,"pending"),disabled:g.length===0||B&&y.length===0,children:B?"Mark Pending":"Mark All Pending"}),i.jsx(re,{size:"sm",variant:"outline",onClick:()=>l(B?y:M,"rejected"),disabled:g.length===0||B&&y.length===0,children:B?"Reject Selected":"Reject All"}),i.jsx(re,{size:"sm",variant:"secondary",onClick:()=>V(B?y:M),disabled:g.length===0||X||B&&y.length===0,children:j.isPending?"Regenerating…":B?"Regenerate Selected":"Regenerate All"}),i.jsx(re,{size:"sm",onClick:()=>u(),disabled:!n||d,title:n?void 0:"Connect LinkedIn before autoscheduling",children:d?"Auto-scheduling…":"Auto-schedule Approved"})]})]}),i.jsxs("div",{className:"mt-3 flex gap-4 h-[calc(100vh-240px)] min-h-[360px] overflow-hidden",children:[i.jsx("div",{className:"w-80 shrink-0 h-full overflow-y-auto border rounded-md bg-white",children:i.jsx(Oa,{posts:g,selectedPostId:C,selectedSet:new Set(y),onSelect:_=>E(_),onToggleSelect:_=>F(_)})}),i.jsx("div",{className:"flex-1 h-full overflow-hidden",children:i.jsx(Ic,{post:g.find(_=>_.id===C)??null,linkedInConnected:n,onSave:(_,J)=>{const Q=C;if(Q)return o(Q,_,J)},onSetStatus:_=>{const J=C;J&&r(J,_)},onPublish:()=>{const _=C;_&&s(_)},onSchedule:_=>{const J=C;return J?a(J,_):Promise.resolve()},onUnschedule:()=>{const _=C;return _?c(_):Promise.resolve()},onAutoSchedule:()=>{const _=C;return _?f(_):Promise.resolve()},isScheduling:m===C,isUnscheduling:v===C,isAutoScheduling:w===C,isRegenerating:C!=null?D.has(C)||j.isPending:!1,onRegenerate:()=>{const _=C;_&&V([_])}})})]})]}),i.jsx(Wc,{open:x,onOpenChange:N,onSubmit:Z,disabled:X})]})}function zc({title:e,onChange:t,onSave:n}){const[r,o]=h.useState(e),[s,l]=h.useState("idle");return h.useEffect(()=>o(e),[e]),h.useEffect(()=>{if(r===e)return;let a=null;const c=window.setTimeout(async()=>{try{l("saving"),t(r),await n(r),l("saved"),a=window.setTimeout(()=>l("idle"),800)}catch{l("idle")}},600);return()=>{window.clearTimeout(c),a!==null&&window.clearTimeout(a)}},[t,n,e,r]),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{value:r,onChange:a=>o(a.target.value),className:"w-full bg-transparent text-2xl font-semibold outline-none focus:border-b focus:border-zinc-300"}),i.jsx("span",{className:"text-xs text-zinc-500 min-w-16 text-right",children:s==="saving"?"Saving…":s==="saved"?"Saved":""})]})}function nu(){const{projectId:e}=$o({strict:!1}),t=e,n=hn({from:"/projects/$projectId"}),r=Ho(),o=r.location.search,s=o&&typeof o=="object"&&!Array.isArray(o)?o:void 0,l=(typeof s?.tab=="string"?s.tab:void 0)||new URLSearchParams(r.location.searchStr??"").get("tab"),a=l==="transcript"?"transcript":l==="posts"?"posts":null,c=Lo.useLoaderData(),[f,u]=h.useState(c.project.project.title),[d,m]=h.useState(c.project.project.currentStage),v=c.project.project.currentStage==="processing"?c.project.project.processingProgress??0:0,w=c.project.project.currentStage==="processing"?c.project.project.processingStep?String(c.project.project.processingStep).replaceAll("_"," "):"Starting…":"Waiting to start…",[S,y]=h.useState(v),[b,j]=h.useState(w),[D,k]=h.useState("transcript"),C=h.useRef(!1),E=h.useRef(!1),x=h.useRef(!1),N=h.useRef(!1),{data:T}=qo(c.linkedIn),[O,g]=h.useState(c.project.project.currentStage!=="processing"),F=Qs(t,O,c.posts);fa(t,c.project.project.userId);const M=Js(t,c.transcript),[G,q]=h.useState(c.transcript?.transcript??"");h.useEffect(()=>{const A=M.data?.transcript??"";q(A)},[M.data?.transcript]),h.useEffect(()=>{if(r.location.pathname===`/projects/${t}`){if(a&&a!==D){k(a);return}a||n({to:".",search:{tab:D},replace:!0})}},[a,D,t,r.location.pathname,n]);const B=ea(t),V=ta(t),Z=na(t),U=oa(t),X=sa(t),_=aa(t),J=ia(t),Q=la(t);h.useEffect(()=>{if(d==="processing"){g(!1),C.current=!1,E.current=!1,x.current=!1;return}g(!0),C.current=!1,E.current=!1,x.current=!1},[d]),h.useEffect(()=>{d!=="processing"||C.current||(C.current=!0,E.current=!1,x.current=!1,j(A=>A&&A!=="Waiting to start…"?A:"Starting…"),y(A=>A>0?A:1),Yo(t).catch(A=>{console.error("Failed to start project processing",A),C.current=!1,K.error("Failed to start processing project")}))},[t,d]);const fe=A=>{switch(A){case"queued":return"Queued";case"started":return"Processing started";case"normalize_transcript":return"Normalizing transcript";case"generate_insights":return"Generating insights";case"insights_ready":return"Insights ready";case"posts_ready":return"Post drafts ready";case"complete":return"Complete";default:return A?A.replaceAll("_"," "):"Processing…"}};ha(d==="processing"?t:null,{enabled:d==="processing",onProgress:({progress:A,step:ee})=>{y(Se=>{const Ce=Number.isFinite(A)?A:Se,Ve=Math.max(0,Math.min(99,Ce));return Math.max(Se,Ve)}),ee&&(j(fe(ee)),ee==="posts_ready"&&g(!0))},onCompleted:()=>{E.current||(E.current=!0,x.current=!1,j("Complete"),y(100),m("posts"),k("posts"),n({to:".",search:{tab:"posts"}}),g(!0),K.success("Posts are ready for review",{description:"Your content has been processed and is ready to review."}))},onFailed:({message:A})=>{x.current||(x.current=!0,E.current=!1,j(A??"Processing failed"),g(!1),K.error(A??"Processing failed"))}});const ve=U.isPending&&U.variables?.postId?U.variables.postId:null,xe=X.isPending&&X.variables?.postId?X.variables.postId:null,Pe=_.isPending&&_.variables?.id?_.variables.id:null;return i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(zc,{title:f||"Untitled Project",onChange:A=>u(A),onSave:A=>Uo({id:t,data:{title:A}}).then(()=>{})}),i.jsxs("div",{className:"text-sm text-zinc-600",children:["Stage: ",d]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(re,{variant:"outline",onClick:()=>n({to:"/projects"}),children:"Back to Projects"}),i.jsx(ds,{projectId:t,projectTitle:f||"Project",variant:"destructive",size:"sm",onDeleted:()=>n({to:"/projects"})})]})]}),d==="processing"&&i.jsxs("div",{className:"mt-2 rounded-md border bg-white px-4 py-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("div",{className:"font-medium text-zinc-800",children:b}),i.jsxs("div",{className:"text-xs text-zinc-500",children:[S,"%"]})]}),i.jsx("div",{className:"mt-2 h-2 w-full overflow-hidden rounded bg-zinc-100",children:i.jsx("div",{className:"h-full bg-zinc-800 transition-all",style:{width:`${S}%`}})}),i.jsx("div",{className:"mt-2 text-xs text-zinc-500",children:"Processing."})]}),i.jsxs(Ea,{value:D,onValueChange:A=>{(A==="transcript"||A==="posts")&&(k(A),n({to:".",search:{tab:A}}))},children:[i.jsxs(Pa,{children:[i.jsx(Tn,{value:"transcript",children:"Transcript"}),i.jsx(Tn,{value:"posts",children:"Posts"})]}),i.jsx(Mn,{value:"posts",className:"mt-4 space-y-3",children:i.jsx(Fc,{projectId:t,postsQuery:F,linkedInConnected:!!T?.connected,onSetStatus:(A,ee)=>B.mutate({postId:A,data:{status:ee}}),onSavePost:(A,ee,Se)=>B.mutateAsync({postId:A,data:{content:ee,hashtags:Se}}).then(()=>{}),onPublish:A=>Z.mutate(A),onProjectAutoSchedule:()=>J.mutate({}),projectAutoSchedulePending:J.isPending,onBulk:(A,ee)=>V.mutate({ids:A,status:ee}),onSchedule:(A,ee)=>U.mutateAsync({postId:A,scheduledAt:ee}).then(()=>{}),onUnschedule:A=>X.mutateAsync({postId:A}).then(()=>{}),onAutoSchedule:A=>_.mutateAsync(A).then(()=>{}),schedulePendingId:ve??void 0,unschedulePendingId:xe??void 0,autoschedulePendingId:Pe??void 0,onAllReviewed:()=>{N.current||d==="ready"||(N.current=!0,Go({id:t,data:{nextStage:"ready"}}).then(A=>{const ee=A.project?.currentStage;m(ee??"ready")}).finally(()=>{N.current=!1}))}})}),i.jsx(Mn,{value:"transcript",className:"mt-4 space-y-3",children:M.isLoading?i.jsx(ln,{className:"h-40 w-full"}):i.jsxs(Ue,{children:[i.jsx(Ge,{children:i.jsx(at,{children:"Transcript"})}),i.jsxs(ct,{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-zinc-600",children:"Paste or edit your transcript. It will be cleaned and used to generate posts."}),i.jsx(Rt,{className:"h-72 w-full bg-white border-zinc-200 focus-visible:ring-zinc-300 overflow-auto",value:G,onChange:A=>q(A.target.value)}),i.jsx("div",{className:"flex items-center justify-end gap-2",children:i.jsx(re,{onClick:()=>Q.mutateAsync(G).then(()=>{}),disabled:Q.isPending,children:Q.isPending?"Saving…":"Save Transcript"})})]})]})})]})]})}export{nu as component};
