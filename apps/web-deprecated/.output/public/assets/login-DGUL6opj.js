import{u as b,a as j,r as t,j as e,o as w,s as p}from"./main-CbN_EMft.js";const y=w({email:p().email(),password:p().min(1)});function N(){const{signIn:g,isAuthenticated:l}=b(),o=j(),[n,f]=t.useState("hanifcarroll@gmail.com"),[i,x]=t.useState("Password1!"),[c,r]=t.useState(null),[d,u]=t.useState(!1);if(t.useEffect(()=>{l&&o({to:"/projects",replace:!0})},[l,o]),l)return null;const h=async s=>{s.preventDefault(),r(null);const m=y.safeParse({email:n,password:i});if(!m.success){r(m.error.issues[0]?.message||"Invalid input");return}try{u(!0),await g(n,i),o({to:"/projects"})}catch(a){a&&typeof a=="object"&&"error"in a&&typeof a.error=="string"?r(a.error):r("Login failed")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("form",{onSubmit:h,className:"w-full max-w-sm bg-white rounded-xl shadow p-6 space-y-4",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Login"}),c&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 p-2 rounded",children:c}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium",htmlFor:"login-email",children:"Email"}),e.jsx("input",{type:"email",className:"w-full border rounded p-2",value:n,onChange:s=>f(s.target.value),placeholder:"you@example.com",id:"login-email"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium",htmlFor:"login-password",children:"Password"}),e.jsx("input",{type:"password",className:"w-full border rounded p-2",value:i,onChange:s=>x(s.target.value),id:"login-password"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white rounded p-2 disabled:opacity-50",disabled:d,children:d?"Signing inâ€¦":"Sign in"})]})})}export{N as component};
